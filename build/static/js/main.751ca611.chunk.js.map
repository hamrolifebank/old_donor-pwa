{"version":3,"sources":["constants/index.js","utils/blockchain/contract sync /^/.*$","actions/appActions.js","utils/blockchain/contract/index.js","reducers/appReducer.js","constants/networks.js","services/db.js","contexts/AppContext.js","modules/home/PrivateRoute.js","modules/layouts/AppHeader.js","modules/global/ModalWrapper.js","utils/blockchain/wallet.js","modules/global/Loading.js","modules/wallet/backup/info.js","modules/wallet/backup/index.js","modules/layouts/LockedFooter.js","utils/react-utils.js","modules/layouts/UnlockedFooter.js","modules/layouts/Footer.js","modules/layouts/Header.js","modules/tokens/importToken.js","assets/images/ether.png","modules/tokens/selectTokens.js","modules/home/main.js","modules/settings/network.js","modules/settings/profile.js","modules/settings/index.js","modules/settings/misc.js","modules/transfer/index.js","modules/misc/blockchain.js","modules/tokens/index.js","modules/tokens/details.js","modules/vault/actionButton.js","modules/global/ImageViewer.js","utils/index.js","assets/images/camera-doc-overlay.svg","modules/vault/camera.js","assets/images/doc.png","modules/vault/index.js","assets/images/user.svg","utils/google/gfile.js","utils/google/gfolder.js","modules/misc/googleBackup.js","modules/home/index.js","modules/setup/index.js","modules/wallet/unlock.js","modules/misc/googleRestore.js","modules/wallet/create.js","modules/misc/reset.js","modules/wallet/restoreMnemonic.js","modules/App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["module","exports","APP_CONSTANTS","VERSION","PASSCODE_LENGTH","SCAN_DELAY","SCANNER_PREVIEW_STYLE","height","width","display","justifyContent","SCANNER_CAM_STYLE","marginTop","padding","marginBottom","BACKUP","PASSPHRASE_RULE","GDRIVE_FOLDERNAME","DB","NAME","TABLES","DATA","ASSETS","DOCUMENTS","DEFAULT_TOKEN","SYMBOL","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","INIT_APP","SET_NETWORK","SET_HASWALLET","SET_WALLET","SET_SCCANNED_DATA","SET_APP_PASSCODE","SET_SENDING_TOKEN_NAME","SET_ETH_BALANCE","Contract","wallet","address","type","getAbi","require","abi","get","ethers","AppReducer","state","action","APP_ACTIONS","data","network","hasWallet","scannedEthAddress","scannedAmount","amount","sendingTokenName","networkList","name","url","default","_getDefaultNetwork","find","d","getNetworkByName","getDefaultNetwork","NETWORKS","db","Dexie","version","stores","documents","assets","DataService","save","put","obj","remove","delete","list","toArray","initAppData","getNetwork","getAddress","getWallet","clearAll","clear","saveNetwork","this","getIpfs","ipfsUrl","process","ipfsDownloadUrl","saveIpfsUrl","saveIpfsDownloadUrl","saveAddress","localStorage","setItem","getAddressFromLocal","getItem","saveWallet","saveDocuments","docs","Array","isArray","bulkAdd","getDocument","hash","updateDocument","key","update","listDocuments","getAsset","getAssetBySymbol","symbol","toUpperCase","filter","a","first","addDefaultAsset","add","decimal","balance","addMultiAssets","saveAsset","asset","updateAsset","listAssets","undefined","initialState","AppContext","createContext","AppContextProvider","children","useReducer","appReduce","dispatch","initApp","useCallback","removeItem","Provider","value","saveSendingTokenName","saveScannedAddress","setHasWallet","setNetwork","setWallet","PrivateRoute","Component","component","rest","render","props","to","pathname","from","location","AppHeader","currentMenu","actionButton","ionIcon","titleIcon","React","createElement","io5","className","style","fontSize","ModalWrapper","btnText","handleSubmit","modalSize","showModal","title","onHide","onShow","Modal","size","show","Header","Title","Body","showFooter","Footer","Button","variant","onClick","Wallet","isValidMnemonic","utils","connectProvider","provider","providers","JsonRpcProvider","connect","loadFromJson","passcode","encryptedJsonWallet","fromEncryptedJson","toString","loadWallet","wlt","create","mnemonic","fromMnemonic","createRandom","encrypt","encryptedWallet","loadFromPrivateKey","privateKey","Loading","message","backdrop","role","Info","togglePasscodeModal","color","Index","useState","setPasscode","loading","setLoading","phrases","setPhrases","passcodeModal","setPasscodeModal","phraseModal","setPhraseModal","togglePhraseModal","fetchPhrasesAndLoad","w","words","phrase","split","Swal","fire","ohHide","onChange","target","length","pattern","inputMode","placeholder","maxLength","autoComplete","word","ind","defaultValue","readOnly","LockedFooter","history","useHistory","useContext","loadingModal","handleUnlockClick","push","setTimeout","href","useIcon","options","assign","UnlockedFooter","scanModal","setScanModal","handleScanModalToggle","handleQRLogin","payload","signMessage","token","then","signedData","signature","fetch","callbackUrl","method","headers","Accept","body","JSON","stringify","response","catch","err","isJsonString","str","parse","handleScanSuccess","loginPayload","substring","indexOf","properties","console","log","delay","onError","alert","onScan","data-toggle","data-target","src","alt","ImportToken","setToken","fetchTokenDetails","contractAddress","tokenContract","decimals","balanceOf","toNumber","handleClickAddToken","changeInputContractAddress","htmlFor","SelectTokens","tokenAssets","setTokenAssets","useEffect","defaultAsset","unshift","tokenAddress","preventDefault","handleTokenClick","EtherImg","QRCode","Main","showPageLoader","setShowPageLoader","cardBody","useRef","myRef","setWidth","setHeight","handleResize","current","offsetWidth","offsetHeight","window","addEventListener","removeEventListener","useResize","class","paddingLeft","paddingRight","ref","lineHeight","Network","customNetworkUrl","setCustomNetworkUrl","isCustom","setIsCustom","currentNetworkName","setCurrentNetworkName","networkUpdateStatus","setNetworkUpdateStatus","changeCurrentNetwork","selNetwork","newWallet","networkUpdateSuccess","handleNetworkChange","currentNetwork","checked","margin","Profile","ipfs","setIpfs","ipfsDownload","setIpfsDownload","changeIpfs","changeIpfsDownload","match","params","contract","tokenDetails","setTokenDetails","sendAmount","setSendAmount","sendToAddress","setSendToAddress","setLoadingModal","sendingToken","setSendingTokenSymbol","saveTokenNameToCtx","tokenName","resetFormStates","sendERCSuccess","html","icon","confirmButtonColor","cancelButtonColor","confirmButtonText","result","sendSuccess","receipt","nonce","confirmAndSend","showCancelButton","cancelButtonText","send","isAddress","sendEther","sendERCToken","error","transfer","sendTransaction","parseEther","forEach","property","tup","trim","getOwnPropertyNames","navigator","onLine","text","Blockchain","getBalance","formatEther","ethBalance","setEthBalance","getBalances","tokenBalance","interval","setInterval","clearInterval","handleIconClick","Number","toFixed","test","Details","handleTransferClick","ActionButton","imageUrl","handleClick","ImageViewer","handleDownloadClick","handleRemoveDocClick","documentName","tabIndex","float","dataURLtoFile","dataurl","filename","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","base64ToBlob","base64Url","Promise","reject","res","blob","blobToBase64","reader","FileReader","readAsDataURL","onloadend","CameraModal","handleCapture","closeModal","webcamRef","innerHeight","innerWidth","facingMode","videoConstraints","audio","screenshotFormat","overlayImage","top","left","border","opacity","IPFS_CLIENT","cameraModal","setCameraModal","previewImage","setPreviewImage","imageViewModal","setImageViewModal","currentDocument","setCurrentDocument","currentDocumentName","setCurrentDocumentName","imagePreviewModal","setImagePreviewModal","setDocumentName","setBlobFile","myDocuments","setMyDocuments","publicKey","EthCrypto","publicKeyByPrivateKey","toggleImageViewModal","docName","toggleCameraModal","toggleImagePreviewModal","encryptFile","file","encryptWithPublicKey","encryptedFile","encryptedFileString","cipher","IpfsHash","of","handleDocumentSubmit","createdAt","Date","now","inIpfs","getFileBlob","backupToIPFS","doc","GetfromIPFS","encryptedFileBlob","encryptedObject","decryptWithPrivateKey","decryptedFile","info","Dropdown","Toggle","bsPrefix","Menu","Item","xhr","XMLHttpRequest","open","responseType","onload","URL","webkitURL","createObjectURL","tag","document","download","appendChild","click","removeChild","downloadFile","minHeight","maxHeight","docImg","onSubmit","required","handleCaptureAgain","imageSrc","getScreenshot","borderRadius","driveUploadPath","fileFields","GFile","gapi","parentId","q","client","drive","files","pageSize","fields","execute","stories","i","formatResult","ifid","boundary","delimiter","closeDelim","metadata","mimeType","appProperties","parents","multipartRequestBody","request","path","uploadType","driveId","fileId","newName","newData","incompleteSearch","firstFile","exists","GFolder","resource","getByName","DISCOVERY_DOCS","GoogleBackup","Actions","label","passphraseRef","errorMsg","setErrorMsg","email","image","UserImg","gUser","setGUser","passphrase","setPassphrase","passphraseStrength","setPassphraseStrength","percent","showHome","progress","setProgress","currentAction","setCurrentAction","changeAction","selectedAction","initClient","init","clientId","discoveryDocs","ux_mode","scope","redirect_uri","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","profile","currentUser","getBasicProfile","getId","getName","getEmail","getImageUrl","handleUserSignIn","signIn","prepareBackupData","password","backupData","backup_googleFile","backup_wallet","backupWallet","gFolder","gFile","encrypted","encryptedPassphrase","ensureExists","folder","createFile","newFile","deleteFile","focus","confirmBackup","RegExp","load","goBack","handleBackButton","dangerouslySetInnerHTML","__html","strongRegex","mediumRegex","checkAndSetPassphrase","aria-valuenow","aria-valuemin","aria-valuemax","App","exact","BackupWallet","NetworkSettings","Settings","Assets","TokenDetails","Transfer","Vault","Setup","showWalletActions","setShowWalletActions","confirmPasscode","setConfirmPasscode","loadingMessage","inputRef","resetPasscodes","setAction","handleConfirmPasscodeChange","actn","handleWalletCreate","paddingTop","aria-label","backgroundColor","borderColor","autoFocus","Unlock","pincode","setPincode","unlockError","setUnlockError","fetchWalletDataAndUnlock","GoogleRestore","msg","currentWallet","walletList","setWalletList","selectedWallet","setSelectedWallet","fetchWalletList","listFiles","fetchSelectedWalletData","walletData","restoreWallet","passcodeWallet","disabled","Create","handleSaveClick","replace","Reset","resetApp","input","inputLabel","inputPlaceholder","Dixie","RestoreMnemonic","wordRefs","fill","_","createRef","handlePaste","clipboardData","getData","rows","column","onPaste","formData","FormData","join","col","CreateWallet","UnlockWallet","RestoreFromMnemonic","ResetWallet","Home","Boolean","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.751ca611.chunk.js","sourcesContent":["module.exports = {\r\n\tAPP_CONSTANTS: {\r\n\t\tVERSION: 1,\r\n\t\tPASSCODE_LENGTH: 6,\r\n\t\tSCAN_DELAY: 600,\r\n\t\tSCANNER_PREVIEW_STYLE: {\r\n\t\t\theight: 300,\r\n\t\t\twidth: 400,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tSCANNER_CAM_STYLE: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tmarginTop: '-50px',\r\n\t\t\tpadding: '50px',\r\n\t\t\tmarginBottom: '25px'\r\n\t\t}\r\n\t},\r\n\tBACKUP: {\r\n\t\tPASSPHRASE_RULE: '\"^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{12,})\"',\r\n\t\tGDRIVE_FOLDERNAME: 'RumsanWalletBackups'\r\n\t},\r\n\tDB: {\r\n\t\tNAME: 'db_wallet',\r\n\t\tVERSION: 2,\r\n\t\tTABLES: {\r\n\t\t\tDATA: 'tbl_data',\r\n\t\t\tASSETS: 'tbl_assets',\r\n\t\t\tDOCUMENTS: 'tbl_docs'\r\n\t\t}\r\n\t},\r\n\tDEFAULT_TOKEN: {\r\n\t\tNAME: 'Ether',\r\n\t\tSYMBOL: 'ETH'\r\n\t}\r\n};\r\n","var map = {\n\t\"./\": 88,\n\t\"./erc20\": 258,\n\t\"./erc20.json\": 258,\n\t\"./erc721\": 259,\n\t\"./erc721.json\": 259,\n\t\"./index\": 88,\n\t\"./index.js\": 88\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 447;","module.exports = {\r\n\tINIT_APP: 'init_app',\r\n\tSET_NETWORK: 'set_network',\r\n\tSET_HASWALLET: 'set_haswallet',\r\n\tSET_WALLET: 'set_wallet',\r\n\tSET_SCCANNED_DATA: 'set_scanned_eth_address',\r\n\tSET_APP_PASSCODE: 'set_app_passcode',\r\n\tSET_SENDING_TOKEN_NAME: 'set_sending_token_name',\r\n\tSET_ETH_BALANCE: 'set_eth_balance'\r\n};\r\n","import { ethers } from 'ethers';\r\n\r\nexport default function Contract({ wallet, address, type }) {\r\n\tconst getAbi = () => {\r\n\t\treturn require(`./${type}`);\r\n\t};\r\n\r\n\treturn {\r\n\t\tabi: getAbi(),\r\n\t\tget() {\r\n\t\t\treturn new ethers.Contract(address, getAbi(), wallet);\r\n\t\t}\r\n\t};\r\n}\r\n","import APP_ACTIONS from '../actions/appActions';\r\n\r\nconst AppReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase APP_ACTIONS.INIT_APP:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddress: action.data.address,\r\n\t\t\t\tnetwork: action.data.network,\r\n\t\t\t\thasWallet: action.data.hasWallet\r\n\t\t\t};\r\n\r\n\t\tcase APP_ACTIONS.SET_NETWORK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnetwork: action.data\r\n\t\t\t};\r\n\r\n\t\tcase APP_ACTIONS.SET_WALLET:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\twallet: action.data\r\n\t\t\t};\r\n\r\n\t\tcase APP_ACTIONS.SET_HASWALLET:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\thasWallet: action.data\r\n\t\t\t};\r\n\r\n\t\tcase APP_ACTIONS.SET_SCCANNED_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tscannedEthAddress: action.data.address,\r\n\t\t\t\tscannedAmount: action.data.amount ? action.data.amount : null\r\n\t\t\t};\r\n\r\n\t\tcase APP_ACTIONS.SET_SENDING_TOKEN_NAME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsendingTokenName: action.data\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default AppReducer;\r\n","const networkList = [\r\n\t{\r\n\t\tname: 'rumsan',\r\n\t\turl: 'https://chain.esatya.io',\r\n\t\tdisplay: 'Rumsan Network',\r\n\t\tdefault: true\r\n\t},\r\n\t{\r\n\t\tname: 'rumsan_test',\r\n\t\turl: 'https://testnetwork.esatya.io',\r\n\t\tdisplay: 'Rumsan Test Network'\r\n\t},\r\n\t{\r\n\t\tname: 'mainnet',\r\n\t\turl: 'https://mainnet.infura.io/v3/ae22018377b14a61983be979df457b20',\r\n\t\tdisplay: 'Mainnet (Ethereum)'\r\n\t},\r\n\t{ name: 'ropsten', url: 'https://ropsten.infura.io/v3/ae22018377b14a61983be979df457b20', display: 'Ropsten' },\r\n\t{ name: 'kovan', url: 'https://kovan.infura.io/v3/ae22018377b14a61983be979df457b20', display: 'Kovan' },\r\n\t{ name: 'rinkeby', url: 'https://rinkeby.infura.io/v3/ae22018377b14a61983be979df457b20', display: 'Rinkeby' },\r\n\t{ name: 'localhost', url: 'http://localhost:8545', display: 'Ganache (http://localhost:8545)' }\r\n];\r\n\r\nconst _getDefaultNetwork = () => {\r\n\treturn networkList.find(d => d.default);\r\n};\r\n\r\nconst _getNetworkByName = name => {\r\n\tif (!name) return _getDefaultNetwork();\r\n\treturn networkList.find(d => d.name === name);\r\n};\r\n\r\nexport const getNetworkByName = _getNetworkByName;\r\nexport const getDefaultNetwork = _getDefaultNetwork;\r\nexport const NETWORKS = networkList;\r\n","import Dexie from 'dexie';\r\n\r\nimport { DB } from '../constants';\r\nimport { getDefaultNetwork } from '../constants/networks';\r\n\r\nconst db = new Dexie(DB.NAME);\r\ndb.version(DB.VERSION).stores({\r\n\tdata: 'name,data',\r\n\tdocuments: 'hash,type,name,file,encryptedFile,createdAt,inIpfs',\r\n\tassets: 'address,type,name,symbol,decimal,balance,network'\r\n});\r\n\r\nconst DataService = {\r\n\tsave(name, data) {\r\n\t\treturn db.data.put({ name, data });\r\n\t},\r\n\r\n\tasync get(name) {\r\n\t\tlet obj = await db.data.get(name);\r\n\t\tif (!obj) return null;\r\n\t\treturn obj.data;\r\n\t},\r\n\r\n\tremove(name) {\r\n\t\treturn db.data.delete(name);\r\n\t},\r\n\r\n\tlist() {\r\n\t\treturn db.data.toArray();\r\n\t},\r\n\r\n\tasync initAppData() {\r\n\t\tlet network = await this.getNetwork();\r\n\t\tlet address = await this.getAddress();\r\n\t\tlet wallet = await this.getWallet();\r\n\t\treturn { network, address, wallet };\r\n\t},\r\n\r\n\tasync clearAll() {\r\n\t\tawait db.data.clear();\r\n\t\tawait db.assets.clear();\r\n\t\tawait db.documents.clear();\r\n\t},\r\n\r\n\tsaveNetwork(network) {\r\n\t\treturn this.save('network', network);\r\n\t},\r\n\r\n\tasync getNetwork() {\r\n\t\tlet network = await this.get('network');\r\n\t\tif (!network) return getDefaultNetwork();\r\n\t\treturn network;\r\n\t},\r\n\r\n\tasync getIpfs() {\r\n\t\tlet ipfsUrl = await this.get('ipfsUrl');\r\n\t\tif (!ipfsUrl) ipfsUrl = process.env.REACT_APP_DEFAULT_IPFS;\r\n\t\tlet ipfsDownloadUrl = await this.get('ipfsUrlDownload');\r\n\t\tif (!ipfsDownloadUrl) ipfsDownloadUrl = process.env.REACT_APP_DEFAULT_IPFS_DOWNLOAD;\r\n\t\treturn { ipfsUrl, ipfsDownloadUrl };\r\n\t},\r\n\r\n\tsaveIpfsUrl(ipfsUrl) {\r\n\t\treturn this.save('ipfsUrl', ipfsUrl);\r\n\t},\r\n\r\n\tsaveIpfsDownloadUrl(ipfsDownloadUrl) {\r\n\t\treturn this.save('ipfsUrlDownload', ipfsDownloadUrl);\r\n\t},\r\n\r\n\tsaveAddress(address) {\r\n\t\tlocalStorage.setItem('address', address);\r\n\t\treturn this.save('address', address);\r\n\t},\r\n\r\n\tgetAddress() {\r\n\t\treturn this.get('address');\r\n\t},\r\n\r\n\tgetAddressFromLocal() {\r\n\t\treturn localStorage.getItem('address');\r\n\t},\r\n\r\n\tasync saveWallet(wallet) {\r\n\t\treturn this.save('wallet', wallet);\r\n\t},\r\n\r\n\tgetWallet() {\r\n\t\treturn this.get('wallet');\r\n\t},\r\n\r\n\tasync saveDocuments(docs) {\r\n\t\tif (!Array.isArray(docs)) docs = [docs];\r\n\t\treturn db.documents.bulkAdd(docs);\r\n\t},\r\n\r\n\tgetDocument(hash) {\r\n\t\treturn db.documents.get(hash);\r\n\t},\r\n\r\n\tasync updateDocument(key, data) {\r\n\t\treturn db.documents.update(key, data);\r\n\t},\r\n\r\n\tlistDocuments() {\r\n\t\treturn db.documents.toArray();\r\n\t},\r\n\r\n\tgetAsset(address) {\r\n\t\treturn db.assets.get(address);\r\n\t},\r\n\r\n\tasync getAssetBySymbol(symbol, network) {\r\n\t\tif (!network) return db.assets.get({ symbol });\r\n\t\tif (symbol.toUpperCase() === 'ETH') return db.assets.get({ symbol });\r\n\t\treturn db.assets.filter(a => a.symbol === symbol && a.network && a.network.name === network).first();\r\n\t},\r\n\r\n\tasync addDefaultAsset(symbol, name) {\r\n\t\tlet asset = await this.getAsset('default');\r\n\t\tif (!asset) return db.assets.add({ address: 'default', symbol, name, decimal: 18, balance: 0 });\r\n\t},\r\n\r\n\tasync addMultiAssets(assets) {\r\n\t\tif (!Array.isArray(assets)) assets = [assets];\r\n\t\treturn db.assets.bulkAdd(assets);\r\n\t},\r\n\r\n\tsaveAsset(asset) {\r\n\t\treturn db.assets.put(asset);\r\n\t},\r\n\r\n\tasync updateAsset(key, asset) {\r\n\t\treturn db.assets.update(key, asset);\r\n\t},\r\n\r\n\tlistAssets(network) {\r\n\t\tif (!network) return db.assets.toArray();\r\n\t\treturn db.assets.filter(a => a.network === undefined || a.network.name === network).toArray();\r\n\t}\r\n};\r\n\r\nexport default DataService;\r\n","import React, { createContext, useReducer, useCallback } from 'react';\r\nimport appReduce from '../reducers/appReducer';\r\nimport APP_ACTIONS from '../actions/appActions';\r\nimport DataService from '../services/db';\r\nimport { APP_CONSTANTS, DEFAULT_TOKEN } from '../constants';\r\n\r\nconst initialState = {\r\n\tsendingTokenName: '',\r\n\taddress: null,\r\n\tnetwork: null,\r\n\twallet: null,\r\n\thasWallet: true,\r\n\tscannedEthAddress: '',\r\n\tscannedAmount: null\r\n};\r\n\r\nexport const AppContext = createContext(initialState);\r\nexport const AppContextProvider = ({ children }) => {\r\n\tconst [state, dispatch] = useReducer(appReduce, initialState);\r\n\r\n\tconst initApp = useCallback(async () => {\r\n\t\tDataService.addDefaultAsset(DEFAULT_TOKEN.SYMBOL, DEFAULT_TOKEN.NAME);\r\n\t\t//TODO: in future check version and add action if the version is different.\r\n\t\tDataService.save('version', APP_CONSTANTS.VERSION);\r\n\t\tlet data = await DataService.initAppData();\r\n\t\tdata.hasWallet = data.wallet === null ? false : true;\r\n\t\tif (!data.hasWallet) localStorage.removeItem('address');\r\n\t\tdispatch({ type: APP_ACTIONS.INIT_APP, data });\r\n\t}, [dispatch]);\r\n\r\n\tfunction setHasWallet(hasWallet) {\r\n\t\tdispatch({ type: APP_ACTIONS.SET_HASWALLET, data: hasWallet });\r\n\t}\r\n\r\n\tfunction setWallet(wallet) {\r\n\t\tdispatch({ type: APP_ACTIONS.SET_WALLET, data: wallet });\r\n\t}\r\n\r\n\tfunction setNetwork(network) {\r\n\t\tdispatch({ type: APP_ACTIONS.SET_NETWORK, data: network });\r\n\t}\r\n\r\n\tfunction saveScannedAddress(data) {\r\n\t\tdispatch({ type: APP_ACTIONS.SET_SCCANNED_DATA, data });\r\n\t}\r\n\r\n\tfunction saveSendingTokenName(symbol) {\r\n\t\tdispatch({ type: APP_ACTIONS.SET_SENDING_TOKEN_NAME, data: symbol });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AppContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\taddress: state.address,\r\n\t\t\t\tscannedEthAddress: state.scannedEthAddress,\r\n\t\t\t\tscannedAmount: state.scannedAmount,\r\n\t\t\t\thasWallet: state.hasWallet,\r\n\t\t\t\tnetwork: state.network,\r\n\t\t\t\twallet: state.wallet,\r\n\t\t\t\tsendingTokenName: state.sendingTokenName,\r\n\t\t\t\tinitApp,\r\n\t\t\t\tsaveSendingTokenName,\r\n\t\t\t\tsaveScannedAddress,\r\n\t\t\t\tsetHasWallet,\r\n\t\t\t\tsetNetwork,\r\n\t\t\t\tsetWallet,\r\n\t\t\t\tdispatch\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AppContext.Provider>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction PrivateRoute({ component: Component, wallet, ...rest }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => {\r\n\t\t\t\tif (wallet != null) {\r\n\t\t\t\t\treturn <Component {...props} {...rest} />;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn <Redirect to={{ pathname: '/', state: { from: props.location } }} />;\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as io5 from 'react-icons/io5';\r\n\r\nexport default function AppHeader({ currentMenu, actionButton, ionIcon }) {\r\n\tconst titleIcon = ionIcon\r\n\t\t? React.createElement(io5[ionIcon], { className: 'ion-icon', style: { fontSize: 22 } })\r\n\t\t: '';\r\n\treturn (\r\n\t\t<div className=\"appHeader bg-primary text-light\">\r\n\t\t\t<div className=\"left\">\r\n\t\t\t\t<Link to=\"/\" className=\"headerButton goBack\">\r\n\t\t\t\t\t{/* <IoChevronBackOutline className=\"ion-icon\" /> */}\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t{titleIcon}\r\n\t\t\t<div className=\"pageTitle\">{currentMenu || 'Home'}</div>\r\n\t\t\t<div className=\"right\">\r\n\t\t\t\t{actionButton !== undefined ? (\r\n\t\t\t\t\t<>{actionButton}</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Link to=\"/\" className=\"headerButton\">\r\n\t\t\t\t\t\t{/* <IoHomeOutline className=\"ion-icon\" /> */}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ModalWrapper(props) {\r\n\tconst { btnText, handleSubmit, modalSize, showModal, title, onHide, onShow } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal size={modalSize || 'md'} show={showModal || false} onHide={onHide} onShow={onShow}>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title style={{ fontSize: 14 }}>{title}</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Modal.Body>{props.children}</Modal.Body>\r\n\t\t\t\t{props.showFooter && (\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={handleSubmit}>\r\n\t\t\t\t\t\t\t{btnText || 'Save Changes'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nModalWrapper.propTypes = {\r\n\tshowModal: PropTypes.bool.isRequired\r\n};\r\n","import { ethers } from 'ethers';\r\n\r\nimport DataService from '../../services/db';\r\n\r\nconst Wallet = {\r\n\tisValidMnemonic: ethers.utils.isValidMnemonic,\r\n\r\n\tasync connectProvider(wallet, network) {\r\n\t\tif (!network) network = await DataService.getNetwork();\r\n\t\tconst { url } = network;\r\n\t\tconst provider = new ethers.providers.JsonRpcProvider(url);\r\n\t\treturn wallet.connect(provider);\r\n\t},\r\n\r\n\tasync loadFromJson(passcode, encryptedJsonWallet) {\r\n\t\tif (!passcode) {\r\n\t\t\tthrow Error('Passcode must be set first');\r\n\t\t}\r\n\t\tconst wallet = await ethers.Wallet.fromEncryptedJson(encryptedJsonWallet, passcode.toString());\r\n\t\treturn this.connectProvider(wallet);\r\n\t},\r\n\r\n\tasync loadWallet(passcode) {\r\n\t\tconst wlt = await DataService.getWallet();\r\n\t\treturn this.loadFromJson(passcode, wlt);\r\n\t},\r\n\r\n\tasync create(passcode, mnemonic) {\r\n\t\tif (!passcode) {\r\n\t\t\tthrow Error('Passcode must be set first');\r\n\t\t}\r\n\t\tlet wallet = null;\r\n\t\tif (mnemonic) wallet = ethers.Wallet.fromMnemonic(mnemonic);\r\n\t\telse wallet = ethers.Wallet.createRandom();\r\n\r\n\t\twallet = await this.connectProvider(wallet);\r\n\t\tconst encryptedWallet = await wallet.encrypt(passcode.toString());\r\n\t\treturn { wallet, encryptedWallet };\r\n\t},\r\n\r\n\tasync loadFromPrivateKey(privateKey) {\r\n\t\tif (!privateKey) return null;\r\n\t\tlet wallet = await new ethers.Wallet(privateKey);\r\n\t\tif (!wallet) throw Error('Wallet not found');\r\n\t\treturn this.connectProvider(wallet);\r\n\t}\r\n};\r\n\r\nexport default Wallet;\r\n","import React from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nexport default function Loading({ showModal, message }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal backdrop=\"static\" style={{ marginTop: 100 }} show={showModal || false}>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<div className=\"spinner-border text-success mt-5 in-progress\" role=\"status\"></div>\r\n\t\t\t\t\t\t<div>{message || 'Please wait...'}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Info({ togglePasscodeModal }) {\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t<div className=\"section-title\" style={{ fontSize: 'larger' }}>\r\n\t\t\t\t\tBackup your wallet\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\t<b style={{ color: 'red' }}>Important! Read very carefully.</b>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\tFor the privacy and security, this application never sends any of your private key and wallet\r\n\t\t\t\t\tinformation to our or any of our server. This means that if you lose or reset your device, we won't\r\n\t\t\t\t\tbe able to recover your wallet or any fund associated with it. Hence, creating backup of your wallet\r\n\t\t\t\t\tis very important. There are two ways to backup your wallet. You have complete control over your\r\n\t\t\t\t\tbackups.\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"section-title\">Option 1: Write down your 12 secret words (mnemonic).</div>\r\n\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\tThis is the safest way to backup your wallet. Click the button below to reveal your secret words.\r\n\t\t\t\t\tCheck no one is looking your screen. Make sure you write down in a paper (or save in an encrypted\r\n\t\t\t\t\tfile) and store safely. NEVER lose it. If you ever need to restore your wallet use these secret\r\n\t\t\t\t\twords. You can even use these secret words to restore wallet in other blockchain based wallet. Be\r\n\t\t\t\t\tcareful where you restore your wallet. There a lot of scammers out there.\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t<button className=\"btn btn-success btn-lg\" id=\"btnMnemonic\" onClick={togglePasscodeModal}>\r\n\t\t\t\t\t\tBackup Secret Words\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"section-title mt-3\">Option 2: Backup to Google Drive.</div>\r\n\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\tAnother easier way to backup is just storing an encrypted form of your wallet in your Google Drive.\r\n\t\t\t\t\tYou still have to remember or write down your 6 digit app passcode, as the app uses this passcode to\r\n\t\t\t\t\tencrypt the wallet before sending to Google Drive, for security. You will need to sign in with\r\n\t\t\t\t\tGoogle and give access to Drive. The app will create a folder called 'eSatyaWalletBackup'. NEVER\r\n\t\t\t\t\tdelete it or any contents within it.\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t<Link to=\"/google/backup\">\r\n\t\t\t\t\t\t<button className=\"btn btn-danger btn-lg\" id=\"btnDrive\">\r\n\t\t\t\t\t\t\tBackup to Google Drive\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"section full mb-2\" id=\"cmpBackup\"></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from '../../layouts/AppHeader';\r\nimport ModalWrapper from '../../global/ModalWrapper';\r\nimport { APP_CONSTANTS } from '../../../constants';\r\nimport Wallet from '../../../utils/blockchain/wallet';\r\nimport Loading from '../../global/Loading';\r\nimport BackupInfo from './info';\r\n\r\nconst { PASSCODE_LENGTH } = APP_CONSTANTS;\r\n\r\nexport default function Index() {\r\n\tconst [passcode, setPasscode] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [phrases, setPhrases] = useState([]);\r\n\r\n\tconst [passcodeModal, setPasscodeModal] = useState(false);\r\n\tconst [phraseModal, setPhraseModal] = useState(false);\r\n\r\n\tconst togglePasscodeModal = () => {\r\n\t\tsetPasscodeModal(!passcodeModal);\r\n\t};\r\n\r\n\tconst togglePhraseModal = () => {\r\n\t\tsetPhraseModal(!phraseModal);\r\n\t};\r\n\r\n\tconst handlePasscodeChange = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetPasscode(e.target.value);\r\n\t\tif (value.length === PASSCODE_LENGTH) {\r\n\t\t\ttogglePasscodeModal();\r\n\t\t\treturn fetchPhrasesAndLoad(value);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchPhrasesAndLoad = async passcode => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst w = await Wallet.loadWallet(passcode);\r\n\t\t\tconst words = w.mnemonic.phrase.split(' ');\r\n\t\t\tsetPhrases(words);\r\n\t\t\tsetLoading(false);\r\n\t\t\ttogglePhraseModal();\r\n\t\t} catch (e) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetPasscode('');\r\n\t\t\tSwal.fire('ERROR', e.message, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetLoading(false);\r\n\t\tsetPasscode('');\r\n\t\ttogglePhraseModal();\r\n\t};\r\n\r\n\tconst handlePhraseSaveClick = () => {\r\n\t\tresetStates();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Loading showModal={loading} message=\"Fetching your 12 words secret. It may take few seconds to load...\" />\r\n\t\t\t<ModalWrapper title=\"Please enter your passcode\" showModal={passcodeModal} ohHide={togglePasscodeModal}>\r\n\t\t\t\t<div className=\"row mb-5\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p>Choose a {PASSCODE_LENGTH}-digit passcode.</p>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={handlePasscodeChange}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\t\t\tinputMode=\"numeric\"\r\n\t\t\t\t\t\t\tclassName=\"form-control verify-input passcode\"\r\n\t\t\t\t\t\t\tplaceholder=\"------\"\r\n\t\t\t\t\t\t\tmaxLength={PASSCODE_LENGTH}\r\n\t\t\t\t\t\t\tautoComplete=\"false\"\r\n\t\t\t\t\t\t\tvalue={passcode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\r\n\t\t\t{/* 12 words phrase modal */}\r\n\t\t\t<ModalWrapper\r\n\t\t\t\ttitle=\"Here is your 12 words secret. Please write down these words in sequence (using the word number) and store safely\"\r\n\t\t\t\tshowModal={phraseModal}\r\n\t\t\t\tohHide={togglePhraseModal}\r\n\t\t\t\tmodalSize=\"lg\"\r\n\t\t\t\tshowFooter=\"true\"\r\n\t\t\t\thandleSubmit={handlePhraseSaveClick}\r\n\t\t\t\tbtnText=\"I have written down the secret words\"\r\n\t\t\t>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t{phrases.length > 0\r\n\t\t\t\t\t\t? phrases.map((word, ind) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={ind} className=\"col-3\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">&nbsp;word: {ind + 1}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${word}${ind + 1}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={word}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t: ''}\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t\t<AppHeader currentMenu=\"Backup\" />\r\n\r\n\t\t\t<BackupInfo togglePasscodeModal={togglePasscodeModal} />\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { IoLockClosed } from 'react-icons/io5';\r\n\r\nimport Loading from '../global/Loading';\r\nimport Wallet from '../../utils/blockchain/wallet';\r\n//import DataService from '../../services/db';\r\nimport { AppContext } from '../../contexts/AppContext';\r\n\r\nexport default function LockedFooter() {\r\n\tlet history = useHistory();\r\n\tconst { setWallet } = useContext(AppContext);\r\n\tconst [loadingModal, setLoadingModal] = useState(false);\r\n\r\n\tconst handleUnlockClick = async () => {\r\n\t\t// let test = Math.random();\r\n\t\t// await DataService.test('cool', test);\r\n\t\t// console.log(test);\r\n\t\tconst wallet = await Wallet.loadFromPrivateKey(\r\n\t\t\t'0xea9be389aa0c8dd3907fdb1f004ff7dcc18719654077e1f316099c6e588a39aa'\r\n\t\t);\r\n\t\t//let encryptedWallet = await DataService.getWallet();\r\n\t\t//const wallet = await Wallet.loadFromJson('967967', encryptedWallet);\r\n\t\tsetWallet(wallet);\r\n\t\thistory.push('/');\r\n\t};\r\n\r\n\tsetTimeout(handleUnlockClick, 1000);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Loading message=\"Unlocking your wallet. Please wait...\" showModal={loadingModal} />\r\n\t\t\t<div className=\"footer-locked\">\r\n\t\t\t\t<div className=\"appBottomMenu\">\r\n\t\t\t\t\t<a href=\"#target\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\"></div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href=\"#target\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\"></div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\ttitle=\"Tap here to unlock\"\r\n\t\t\t\t\t\thref=\"#screen\"\r\n\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\tid=\"btnUnlock\"\r\n\t\t\t\t\t\tonClick={handleUnlockClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"action-button large\">\r\n\t\t\t\t\t\t\t\t<IoLockClosed className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href=\"#target\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\"></div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href=\"#target\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\"></div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport * as io5 from 'react-icons/io5';\r\n\r\nconst useResize = myRef => {\r\n\tconst [width, setWidth] = useState(0);\r\n\tconst [height, setHeight] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleResize = () => {\r\n\t\t\tsetWidth(myRef.current.offsetWidth);\r\n\t\t\tsetHeight(myRef.current.offsetHeight);\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('resize', handleResize);\r\n\t\t};\r\n\t}, [myRef]);\r\n\r\n\treturn { width, height };\r\n};\r\n\r\nconst useIcon = (name, options = {}) => {\r\n\tif (!name) return '';\r\n\treturn React.createElement(io5[name], Object.assign({ className: 'ion-icon' }, options));\r\n};\r\n\r\nexport { useResize, useIcon };\r\n","import React, { useState, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport QrReader from 'react-qr-reader';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { useIcon } from '../../utils/react-utils';\r\nimport ModalWrapper from '../global/ModalWrapper';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport { APP_CONSTANTS } from '../../constants';\r\nimport DataService from '../../services/db';\r\n\r\nconst { SCAN_DELAY, SCANNER_PREVIEW_STYLE, SCANNER_CAM_STYLE } = APP_CONSTANTS;\r\n\r\nexport default function UnlockedFooter() {\r\n\tlet history = useHistory();\r\n\tconst { saveScannedAddress, wallet, network } = useContext(AppContext);\r\n\tconst [scanModal, setScanModal] = useState(false);\r\n\r\n\tconst handleScanModalToggle = () => setScanModal(!scanModal);\r\n\r\n\tconst handleQRLogin = payload => {\r\n\t\twallet.signMessage(payload.token).then(signedData => {\r\n\t\t\tconst data = { id: payload.id, signature: signedData };\r\n\t\t\tfetch(`${payload.callbackUrl}`, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\thandleScanModalToggle();\r\n\t\t\t\t\tSwal.fire('SUCCESS', 'Logged in successfully!', 'success');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tSwal.fire('ERROR', 'Login using wallet failed!', 'error');\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScanError = err => {\r\n\t\talert('Oops, scanning failed. Please try again');\r\n\t};\r\n\r\n\tconst isJsonString = str => {\r\n\t\ttry {\r\n\t\t\tJSON.parse(str);\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tconst handleScanSuccess = async data => {\r\n\t\tlet loginPayload = null;\r\n\t\tif (data) {\r\n\t\t\tconst isJsonStr = isJsonString(data);\r\n\t\t\tif (isJsonStr === true) {\r\n\t\t\t\tloginPayload = JSON.parse(data);\r\n\t\t\t\tif (loginPayload && loginPayload.action === 'login') return handleQRLogin(loginPayload);\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst initials = data.substring(0, 2);\r\n\t\t\t\t\tif (initials === '0x') {\r\n\t\t\t\t\t\tsaveScannedAddress({ address: data });\r\n\t\t\t\t\t\thandleScanModalToggle();\r\n\t\t\t\t\t\thistory.push('/select-token');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.indexOf(':') === -1) throw Error('This QR Code is not supported by Rumsan Wallet.');\r\n\r\n\t\t\t\t\tlet properties = data.split(':');\r\n\t\t\t\t\tlet symbol = properties[0] === 'ethereum' ? 'ETH' : properties[0];\r\n\t\t\t\t\tlet token = await DataService.getAssetBySymbol(symbol, network.name);\r\n\t\t\t\t\tif (!token)\r\n\t\t\t\t\t\tthrow Error(\r\n\t\t\t\t\t\t\t`Token with symbol ${symbol} does not exist in your asset library. Please add asset and try again.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\thandleScanModalToggle();\r\n\t\t\t\t\thistory.push(`/transfer/${token.address}/${properties[1]}`);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.log('ERR:', err);\r\n\t\t\t\t\thandleScanModalToggle();\r\n\t\t\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ModalWrapper title=\"Scan a QR Code\" showModal={scanModal} ohHide={handleScanModalToggle}>\r\n\t\t\t\t<div style={SCANNER_CAM_STYLE}>\r\n\t\t\t\t\t<QrReader\r\n\t\t\t\t\t\tdelay={SCAN_DELAY}\r\n\t\t\t\t\t\tstyle={SCANNER_PREVIEW_STYLE}\r\n\t\t\t\t\t\tonError={handleScanError}\r\n\t\t\t\t\t\tonScan={handleScanSuccess}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t\t<div className=\"footer-unlocked\">\r\n\t\t\t\t<div className=\"appBottomMenu\">\r\n\t\t\t\t\t<Link to=\"/\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{useIcon('IoHomeOutline')}\r\n\t\t\t\t\t\t\t<strong>Home</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to=\"/assets\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{useIcon('IoBriefcaseOutline')}\r\n\t\t\t\t\t\t\t<strong>Assets</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<a href=\"#home\" className=\"item\" id=\"btnScanner\" onClick={handleScanModalToggle}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"action-button large\">{useIcon('IoQrCodeOutline')}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<Link to=\"/vault\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{useIcon('IoDocumentOutline')}\r\n\t\t\t\t\t\t\t<strong>DocVault</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to=\"/profile\" className=\"item\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{useIcon('IoOptionsOutline')}\r\n\t\t\t\t\t\t\t<strong>Profile</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\n//import idleJs from 'idle-js';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport LockedFooter from './LockedFooter';\r\nimport UnlockedFooter from './UnlockedFooter';\r\n\r\nexport default function Footer() {\r\n\tconst { hasWallet, wallet } = useContext(AppContext);\r\n\r\n\t// useEffect(() => {\r\n\t// \tvar idle = new idleJs({\r\n\t// \t\tidle: 30000, // idle time in ms\r\n\t// \t\tevents: ['mousemove', 'keydown', 'mousedown', 'touchstart'], // events that will trigger the idle resetter\r\n\t// \t\tonIdle: function () {\r\n\t// \t\t\tsetWallet(null);\r\n\t// \t\t},\r\n\t// \t\tonHide: function () {\r\n\t// \t\t\tsetWallet(null);\r\n\t// \t\t},\r\n\t// \t\tkeepTracking: true, // set it to false if you want to be notified only on the first idleness change\r\n\t// \t\tstartAtIdle: false // set it to true if you want to start in the idle state\r\n\t// \t});\r\n\t// \tidle.start();\r\n\t// }, [setWallet]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{hasWallet ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{wallet === null && <LockedFooter />}\r\n\t\t\t\t\t{wallet !== null && <UnlockedFooter />}\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport { IoWalletOutline, IoHomeOutline } from 'react-icons/io5';\r\n\r\nexport default function Header() {\r\n\tconst { wallet, setWallet } = useContext(AppContext);\r\n\r\n\tconst handleLockAppClick = () => {\r\n\t\tsetWallet(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{wallet && (\r\n\t\t\t\t<div className=\"appHeader bg-primary scrolled\">\r\n\t\t\t\t\t<div className=\"left d-none\">\r\n\t\t\t\t\t\t<a href=\"fake_value\" className=\"headerButton\" data-toggle=\"modal\" data-target=\"#sidebarPanel\">\r\n\t\t\t\t\t\t\t<IoHomeOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"pageTitle\">\r\n\t\t\t\t\t\t<img src=\"assets/img/icon/rumsan-white-72.png\" width=\"22\" alt=\"logo\" className=\"logo\" />\r\n\t\t\t\t\t\t&nbsp; Rumsan Wallet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"#lock\"\r\n\t\t\t\t\t\t\ttitle=\"Lock wallet\"\r\n\t\t\t\t\t\t\tonClick={handleLockAppClick}\r\n\t\t\t\t\t\t\tclassName=\"headerButton logout\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<IoWalletOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { useHistory } from 'react-router-dom';\r\nimport QrReader from 'react-qr-reader';\r\nimport { IoCloseCircle, IoSendOutline, IoQrCodeOutline } from 'react-icons/io5';\r\n\r\nimport Loading from '../global/Loading';\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport Contract from '../../utils/blockchain/contract';\r\nimport DataService from '../../services/db';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport ModalWrapper from '../global/ModalWrapper';\r\n\r\nimport { APP_CONSTANTS } from '../../constants';\r\nconst { SCAN_DELAY, SCANNER_PREVIEW_STYLE, SCANNER_CAM_STYLE } = APP_CONSTANTS;\r\n\r\nexport default function ImportToken() {\r\n\tconst { address, wallet, network } = useContext(AppContext);\r\n\tlet history = useHistory();\r\n\r\n\tconst [token, setToken] = useState({});\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [scanModal, setScanModal] = useState(false);\r\n\r\n\tconst handleScanModalToggle = () => setScanModal(!scanModal);\r\n\r\n\tconst handleScanError = err => {\r\n\t\talert('Oops, scanning failed. Please try again');\r\n\t};\r\n\r\n\tconst handlScanSuccess = data => {\r\n\t\tif (data) {\r\n\t\t\thandleScanModalToggle();\r\n\t\t\tfetchTokenDetails(data);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchTokenDetails = async contractAddress => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (!wallet) throw Error('Please unlock the wallet first.');\r\n\t\t\tconst tokenContract = Contract({ wallet, address: contractAddress, type: 'erc20' }).get();\r\n\r\n\t\t\tconst symbol = await tokenContract.symbol();\r\n\t\t\tconst name = await tokenContract.name();\r\n\t\t\tconst decimal = await tokenContract.decimals();\r\n\t\t\tconst balance = await tokenContract.balanceOf(address);\r\n\t\t\tsetToken({\r\n\t\t\t\taddress: contractAddress,\r\n\t\t\t\ttype: 'erc20',\r\n\t\t\t\tname,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdecimal,\r\n\t\t\t\tbalance: balance.toNumber(),\r\n\t\t\t\tnetwork\r\n\t\t\t});\r\n\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetToken({ address: '', name: '', symbol: '', type: '', decimal: '', balance: '', network: null });\r\n\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClickAddToken = async () => {\r\n\t\tawait DataService.addMultiAssets(token);\r\n\t\tsetToken({ address: '', name: '', symbol: '', type: '', decimal: '', balance: '', network: null });\r\n\t\thistory.push('/assets');\r\n\t};\r\n\r\n\tconst changeInputContractAddress = async e => {\r\n\t\tconst { value } = e.target;\r\n\t\tif (value.length > 40) {\r\n\t\t\treturn fetchTokenDetails(value);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ModalWrapper title=\"Scan a QR Code\" showModal={scanModal} ohHide={handleScanModalToggle}>\r\n\t\t\t\t<div style={SCANNER_CAM_STYLE}>\r\n\t\t\t\t\t<QrReader\r\n\t\t\t\t\t\tdelay={SCAN_DELAY}\r\n\t\t\t\t\t\tstyle={SCANNER_PREVIEW_STYLE}\r\n\t\t\t\t\t\tonError={handleScanError}\r\n\t\t\t\t\t\tonScan={handlScanSuccess}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t\t<Loading showModal={loading} message=\"Fetching token details. Please wait..\" />\r\n\t\t\t<AppHeader currentMenu=\"Import Token\" />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div id=\"cmpMain\">\r\n\t\t\t\t\t<div className=\"section mt-2 mb-5\">\r\n\t\t\t\t\t\t<div className=\"card mt-5\" id=\"cmpTransfer\">\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"contractAddress\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tToken Contract Address:\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"contractAddress\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"contractAddress\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter token contract address\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={token.address}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={changeInputContractAddress}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleScanModalToggle}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-icon btn-primary mr-1 mb-1 btn-scan-address\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IoQrCodeOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\" style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">Token Name:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"symbol\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={token.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">Token Symbol:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"symbol\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={token.symbol}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ marginTop: 12, padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\" style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">Decimals of Precision:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"decimal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={token.decimal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">Current Balance:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={token.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{token.symbol && (\r\n\t\t\t\t\t\t\t\t<div className=\"card-footer text-right\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"btnAddToken\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleClickAddToken}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<IoSendOutline className=\"ion-icon\" /> Add Token\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport EtherImg from '../../assets/images/ether.png';\r\nimport DataService from '../../services/db';\r\n\r\nexport default function SelectTokens() {\r\n\tlet history = useHistory();\r\n\tconst { network } = useContext(AppContext);\r\n\r\n\tconst [tokenAssets, setTokenAssets] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet assets = await DataService.listAssets(network.name);\r\n\t\t\tconst defaultAsset = assets.find(a => a.address === 'default');\r\n\t\t\tassets = assets.filter(a => a.address !== 'default');\r\n\t\t\tassets.unshift(defaultAsset);\r\n\t\t\tsetTokenAssets(assets);\r\n\t\t})();\r\n\t}, [network.name]);\r\n\r\n\tconst handleTokenClick = (e, tokenAddress) => {\r\n\t\te.preventDefault();\r\n\t\thistory.push('/transfer/' + tokenAddress);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<AppHeader currentMenu=\"Select Token\" />\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ul className=\"listview image-listview\">\r\n\t\t\t\t\t\t{/* <li key={DEFAULT_TOKEN.SYMBOL}>\r\n\t\t\t\t\t\t\t<a href=\"#view\" className=\"item\" onClick={e => handleTokenClick(e, DEFAULT_TOKEN.SYMBOL)}>\r\n\t\t\t\t\t\t\t\t<div className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<img src={EtherImg} alt=\"Token\" className=\"image\" />\r\n\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{DEFAULT_TOKEN.NAME}\r\n\t\t\t\t\t\t\t\t\t\t\t<footer>{DEFAULT_TOKEN.SYMBOL}</footer>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-primary\">{ethBalance || 0}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t\t{tokenAssets && tokenAssets.length > 0 ? (\r\n\t\t\t\t\t\t\ttokenAssets.map(token => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li key={token.symbol}>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref=\"#view\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => handleTokenClick(e, token.address)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={EtherImg} alt=\"Token\" className=\"image\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{token.name || 'N/A'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<footer>{token.symbol}</footer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-primary\">{token.balance || 0}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={{ padding: 20 }}>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<small>Your assets will appear here...</small>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { useResize } from '../../utils/react-utils';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nvar QRCode = require('qrcode.react');\r\n\r\nexport default function Main() {\r\n\tconst { hasWallet, wallet } = useContext(AppContext);\r\n\tconst [showPageLoader, setShowPageLoader] = useState(true);\r\n\r\n\tconst cardBody = useRef();\r\n\tconst { width } = useResize(cardBody);\r\n\r\n\tconst calcQRWidth = () => {\r\n\t\tif (width < 200) return 200;\r\n\t\telse return 280;\r\n\t};\r\n\r\n\tsetTimeout(() => {\r\n\t\tsetShowPageLoader(false);\r\n\t}, 1200);\r\n\r\n\tif (!hasWallet) {\r\n\t\treturn <Redirect to=\"/setup\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showPageLoader && (\r\n\t\t\t\t<div id=\"loader\">\r\n\t\t\t\t\t<img src=\"/assets/img/icon/rumsan-white-72.png\" alt=\"icon\" class=\"loading-icon\" />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"section wallet-card-section pt-1\">\r\n\t\t\t\t\t<div className=\"card\" style={{ height: 365, paddingLeft: 2, paddingRight: 2 }}>\r\n\t\t\t\t\t\t<div className=\"balance\">\r\n\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body text-center mt-3\" ref={cardBody}>\r\n\t\t\t\t\t\t\t\t\t{wallet !== null ? (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<QRCode value={wallet.address} size={calcQRWidth()} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1\" style={{ fontSize: 13 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{wallet.address}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2\" style={{ fontSize: 9, lineHeight: 1.5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThis QR Code (address) is your unique identity. Use this to receive\r\n\t\t\t\t\t\t\t\t\t\t\t\tdigital documents, assets or verify your identity.\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div>Loading...</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"cmpCreateWallet\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t{hasWallet && !wallet && <strong>Tap on lock icon to unlock</strong>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { IoCloseCircle } from 'react-icons/io5';\r\n\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport { NETWORKS, getNetworkByName } from '../../constants/networks';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport Wallet from '../../utils/blockchain/wallet';\r\nimport DataService from '../../services/db';\r\n\r\nexport default function Network() {\r\n\tconst { wallet, setWallet, setNetwork, network } = useContext(AppContext);\r\n\tconst [customNetworkUrl, setCustomNetworkUrl] = useState('');\r\n\tconst [isCustom, setIsCustom] = useState(false);\r\n\tconst [currentNetworkName, setCurrentNetworkName] = useState(null);\r\n\tconst [networkUpdateStatus, setNetworkUpdateStatus] = useState('');\r\n\r\n\tconst changeCurrentNetwork = async (name, url) => {\r\n\t\tlet selNetwork = null;\r\n\t\tif (name === 'custom') {\r\n\t\t\tsetIsCustom(true);\r\n\t\t\tselNetwork = { name: 'custom', url, display: 'Custom Network' };\r\n\t\t} else {\r\n\t\t\tsetIsCustom(false);\r\n\t\t\tselNetwork = getNetworkByName(name);\r\n\t\t}\r\n\r\n\t\t//setCurrentNetworkName(network);\r\n\t\tawait DataService.saveNetwork(selNetwork);\r\n\t\tawait DataService.updateAsset('default', { balance: 0 });\r\n\t\tsetNetwork(selNetwork);\r\n\t\tif (wallet) {\r\n\t\t\tlet newWallet = await Wallet.connectProvider(wallet, selNetwork);\r\n\t\t\tsetWallet(newWallet);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCustomUrlChange = e => {\r\n\t\tsetCustomNetworkUrl(e.target.value);\r\n\t\tchangeCurrentNetwork('custom', e.target.value);\r\n\t\tnetworkUpdateSuccess();\r\n\t};\r\n\r\n\tconst networkUpdateSuccess = () => {\r\n\t\tsetNetworkUpdateStatus('success');\r\n\t};\r\n\r\n\tconst handleNetworkChange = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tchangeCurrentNetwork(value);\r\n\t\tnetworkUpdateSuccess();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function currentNetwork() {\r\n\t\t\tlet currentNetwork = network || (await DataService.getNetwork());\r\n\t\t\tconst { name, url } = currentNetwork;\r\n\t\t\tif (name === 'custom') {\r\n\t\t\t\tsetCustomNetworkUrl(url);\r\n\t\t\t\tsetIsCustom(true);\r\n\t\t\t}\r\n\t\t\tsetCurrentNetworkName(name);\r\n\t\t}\r\n\t\tcurrentNetwork();\r\n\t}, [network]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppHeader currentMenu=\"Networks\" />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div id=\"cmpMain\">\r\n\t\t\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t\t\t<div className=\"section-title\">Select an Network:</div>\r\n\t\t\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\t\t\tPlease note: changing network will show current balance of only the active network\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"section full mb-2\" id=\"cmpNetwork\">\r\n\t\t\t\t\t\t<div className=\"section-title\">Available Networks </div>\r\n\t\t\t\t\t\t<div className=\"wide-block p-0\">\r\n\t\t\t\t\t\t\t<form autoComplete=\"off\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-list\">\r\n\t\t\t\t\t\t\t\t\t{NETWORKS.length &&\r\n\t\t\t\t\t\t\t\t\t\tNETWORKS.map(network => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={network.name} className=\"custom-control custom-radio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentNetworkName && currentNetworkName === network.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={network.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"selNetwork\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleNetworkChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={network.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"custom-control-input active\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor={network.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{network.display}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t<div className=\"custom-control custom-radio\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentNetworkName && currentNetworkName === 'custom' ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"custom\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"selNetwork\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"custom\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleNetworkChange}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"custom-control-input\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor=\"custom\">\r\n\t\t\t\t\t\t\t\t\t\t\tCustom Network\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{isCustom && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" id=\"cmpNetworkUrl\" style={{ display: 's' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\" style={{ margin: '0px 55px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"customNetworkUrl\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tEnter Network Url\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"customNetworkUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"customNetworkUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={customNetworkUrl}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCustomUrlChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ethereum network gateway url\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{networkUpdateStatus === 'success' && (\r\n\t\t\t\t\t\t\t\t\t<div style={{ padding: 20, color: 'green' }}>Network updated successfully.</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Profile() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"section mt-2\">\r\n\t\t\t\t\t<div className=\"profile-head\">\r\n\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc=\"https://secure.gravatar.com/avatar/cdfda85820e903a90a89e02903223376?s=180&d=identicon\"\r\n\t\t\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t\t\t\tclassName=\"imaged w64 rounded\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t<h3 className=\"name\">This is You</h3>\r\n\t\t\t\t\t\t\t<h5 className=\"subtext\">:)</h5>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"section full mb-2\">\r\n\t\t\t\t<div className=\"tab-content\">\r\n\t\t\t\t\t{/* settings */}\r\n\t\t\t\t\t<div className=\"tab-pane fade show active\" id=\"settings\" role=\"tabpanel\">\r\n\t\t\t\t\t\t<ul className=\"listview image-listview text flush transparent pt-1\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<div className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t<div>Dark Mode</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"custom-control custom-switch\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"custom-control-input  dark-mode-switch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"customSwitch1\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor=\"customSwitch1\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to=\"/backup\" className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t<div>Backup Wallet</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to=\"/networks\" className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t<div>Current Network</div>\r\n\t\t\t\t\t\t\t\t\t\t<footer>...</footer>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to=\"/settings\" className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t<div>Settings</div>\r\n\t\t\t\t\t\t\t\t\t\t<footer>...</footer>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* * settings */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport Profile from './profile';\r\n\r\nexport default function Index() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppHeader currentMenu=\"Settings\" />\r\n\t\t\t<Profile />\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport DataService from '../../services/db';\r\n\r\nexport default function ImportToken() {\r\n\tconst [ipfs, setIpfs] = useState(null);\r\n\tconst [ipfsDownload, setIpfsDownload] = useState(null);\r\n\r\n\tconst changeIpfs = async e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetIpfs(value);\r\n\t\tif (value.length > 5) DataService.saveIpfsUrl(value);\r\n\t\telse DataService.saveIpfsUrl(null);\r\n\t};\r\n\r\n\tconst changeIpfsDownload = async e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetIpfsDownload(value);\r\n\t\tif (value.length > 5) DataService.saveIpfsDownloadUrl(value);\r\n\t\telse DataService.saveIpfsDownloadUrl(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet { ipfsUrl, ipfsDownloadUrl } = await DataService.getIpfs();\r\n\t\t\tsetIpfs(ipfsUrl);\r\n\t\t\tsetIpfsDownload(ipfsDownloadUrl);\r\n\t\t})();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppHeader currentMenu=\"Settings\" />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div id=\"cmpMain\">\r\n\t\t\t\t\t<div className=\"section mt-2 mb-5\">\r\n\t\t\t\t\t\t<div className=\"card mt-5\" id=\"cmpTransfer\">\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"label\">IPFS Upload Url:</label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter full IPFS url (eg: http://localhost:5001)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ipfs}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={changeIpfs}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"label\">IPFS Download Url:</label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter IPFS download url (eg: http://localhost:8080/ipfs)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ipfsDownload}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={changeIpfsDownload}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ethers } from 'ethers';\r\nimport QrReader from 'react-qr-reader';\r\nimport { IoCloseCircle, IoSendOutline, IoQrCodeOutline } from 'react-icons/io5';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport Loading from '../global/Loading';\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport ModalWrapper from '../global/ModalWrapper';\r\nimport { APP_CONSTANTS } from '../../constants';\r\nimport Contract from '../../utils/blockchain/contract';\r\nimport DataService from '../../services/db';\r\n\r\nconst { SCAN_DELAY, SCANNER_PREVIEW_STYLE, SCANNER_CAM_STYLE } = APP_CONSTANTS;\r\n\r\nexport default function Index(props) {\r\n\tconst { saveScannedAddress, saveSendingTokenName, network, wallet } = useContext(AppContext);\r\n\tlet history = useHistory();\r\n\r\n\tlet tokenAddress = props.match.params.contract;\r\n\tlet address = props.match.params.address;\r\n\r\n\tconst [tokenDetails, setTokenDetails] = useState(null);\r\n\r\n\tconst [sendAmount, setSendAmount] = useState('');\r\n\tconst [sendToAddress, setSendToAddress] = useState('');\r\n\tconst [loadingModal, setLoadingModal] = useState(false);\r\n\tconst [scanModal, setScanModal] = useState(false);\r\n\tconst [sendingToken, setSendingTokenSymbol] = useState('');\r\n\r\n\tconst handleScanModalToggle = () => setScanModal(!scanModal);\r\n\r\n\tconst handleScanError = err => {\r\n\t\talert('Oops, scanning failed. Please try again');\r\n\t};\r\n\tconst handlScanSuccess = data => {\r\n\t\tif (data) {\r\n\t\t\ttry {\r\n\t\t\t\tconst initials = data.substring(0, 2);\r\n\t\t\t\tif (initials === '0x') {\r\n\t\t\t\t\tsaveScannedAddress({ address: data });\r\n\t\t\t\t\thandleScanModalToggle();\r\n\t\t\t\t\thistory.push('/select-token');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet properties = data.split(',');\r\n\t\t\t\tlet obj = {};\r\n\t\t\t\tproperties.forEach(function (property) {\r\n\t\t\t\t\tlet tup = property.split(':');\r\n\t\t\t\t\tobj[tup[0]] = tup[1].trim();\r\n\t\t\t\t});\r\n\t\t\t\tconst tokenName = Object.getOwnPropertyNames(obj)[0];\r\n\t\t\t\tobj.address = obj[tokenName];\r\n\t\t\t\tsaveTokenNameToCtx(tokenName);\r\n\t\t\t\tsaveScannedAddress(obj);\r\n\t\t\t\thandleScanModalToggle();\r\n\t\t\t\thistory.push('/transfer');\r\n\t\t\t} catch (err) {\r\n\t\t\t\thandleScanModalToggle();\r\n\t\t\t\tSwal.fire('ERROR', 'Invalid wallet address!', 'error');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst saveTokenNameToCtx = tokenName => {\r\n\t\tif (tokenName === 'ethereum') saveSendingTokenName('ethereum');\r\n\t\telse saveSendingTokenName(tokenName);\r\n\t};\r\n\r\n\tconst handleSendToChange = e => {\r\n\t\tsetSendToAddress(e.target.value);\r\n\t};\r\n\r\n\tconst handleSendAmtChange = e => {\r\n\t\tsetSendAmount(e.target.value);\r\n\t};\r\n\r\n\tconst resetFormStates = () => {\r\n\t\tsetLoadingModal(false);\r\n\t\tsetSendAmount('');\r\n\t\tsetSendingTokenSymbol('');\r\n\t\tsetSendToAddress('');\r\n\t};\r\n\r\n\tconst sendERCSuccess = (sendAmount, sendToAddress) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Success',\r\n\t\t\thtml: `You sent <b>${sendAmount}</b> ${sendingToken} to <b>${sendToAddress}</b>.`,\r\n\t\t\ticon: 'success',\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Okay'\r\n\t\t}).then(result => {\r\n\t\t\tif (result.value) {\r\n\t\t\t\thistory.push('/assets');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst sendSuccess = (data, receipt) => {\r\n\t\tresetFormStates();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Success',\r\n\t\t\thtml: `You sent <b>${data.sendAmount}</b> ethers to <b>${data.sendToAddress}</b>.<br>\r\n      Your confirmation code is <b>${receipt.hash}</b>.<br>So far your account has completed ${\r\n\t\t\t\treceipt.nonce + 1\r\n\t\t\t} transactions.`,\r\n\t\t\ticon: 'success',\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Okay'\r\n\t\t}).then(result => {\r\n\t\t\tif (result.value) {\r\n\t\t\t\thistory.push('/assets');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst confirmAndSend = async data => {\r\n\t\tconst isConfirm = await Swal.fire({\r\n\t\t\ttitle: 'Are you sure?',\r\n\t\t\thtml: `You are sending <b>${data.sendAmount} ${sendingToken}</b> to <b>${data.sendToAddress}</b>.<br><small>Please double check the address and the amount.</small>`,\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Yes',\r\n\t\t\tcancelButtonText: 'No'\r\n\t\t});\r\n\t\tif (isConfirm.value) {\r\n\t\t\tsend(data);\r\n\t\t}\r\n\t};\r\n\r\n\tconst send = async data => {\r\n\t\ttry {\r\n\t\t\tif (!ethers.utils.isAddress(data.sendToAddress)) throw Error('Destination address is invalid');\r\n\t\t\tsetLoadingModal(true);\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (tokenDetails.address === 'default') await sendEther(data);\r\n\t\t\t\t\telse await sendERCToken();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tSwal.fire('ERROR', e.error.message, 'error');\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tresetFormStates();\r\n\t\t\t\t}\r\n\t\t\t}, 250);\r\n\t\t} catch (e) {\r\n\t\t\tSwal.fire('ERROR', e.message, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendERCToken = async () => {\r\n\t\ttry {\r\n\t\t\tconst tokenContract = Contract({ wallet, address: tokenDetails.address, type: tokenDetails.type }).get();\r\n\t\t\tawait tokenContract.transfer(sendToAddress, sendAmount);\r\n\t\t\tsendERCSuccess(sendAmount, sendToAddress);\r\n\t\t} catch (err) {\r\n\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendEther = async data => {\r\n\t\ttry {\r\n\t\t\tconst receipt = await wallet.sendTransaction({\r\n\t\t\t\tto: data.sendToAddress,\r\n\t\t\t\tvalue: ethers.utils.parseEther(data.sendAmount.toString())\r\n\t\t\t});\r\n\t\t\tsendSuccess(data, receipt);\r\n\t\t} catch (err) {\r\n\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSendClick = () => {\r\n\t\tif (!navigator.onLine)\r\n\t\t\treturn Swal.fire({\r\n\t\t\t\ttitle: 'OFFLINE',\r\n\t\t\t\ticon: 'error',\r\n\t\t\t\ttext: 'Cannot transfer while you are offline. Please connect to the Internet and try again.'\r\n\t\t\t});\r\n\t\tif (!sendAmount || !sendToAddress) {\r\n\t\t\treturn Swal.fire({ title: 'ERROR', icon: 'error', text: 'Send amount and receiver address is required' });\r\n\t\t}\r\n\t\tconfirmAndSend({ sendAmount, sendToAddress });\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tif (address) setSendToAddress(address);\r\n\t\t\tconst token = await DataService.getAsset(tokenAddress);\r\n\t\t\tif (token) setTokenDetails(token);\r\n\t\t\telse {\r\n\t\t\t\tSwal.fire('ERROR', 'Asset not found.', 'error').then(a => {\r\n\t\t\t\t\thistory.push('/assets');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [address, history, tokenAddress]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tconst _tokens = [];\r\n\t// \t//setTokenAssets(_tokens);\r\n\t// \t//sendingTokenName => Scanned token name\r\n\t// \tif (true == false && sendingTokenName) {\r\n\t// \t\tconst found = _tokens.find(item => item.tokenName === sendingTokenName);\r\n\t// \t\tif (found) {\r\n\t// \t\t\tsetSendingTokenSymbol(found.symbol);\r\n\t// \t\t\tsetCurrentBalance(found.tokenBalance);\r\n\t// \t\t} else {\r\n\t// \t\t\tif (sendingTokenName === 'ethereum') {\r\n\t// \t\t\t\tsetSendingTokenSymbol(DEFAULT_TOKEN.SYMBOL);\r\n\t// \t\t\t\tsetCurrentBalance(ethBalance);\r\n\t// \t\t\t} else {\r\n\t// \t\t\t\tsetSendingTokenSymbol('');\r\n\t// \t\t\t\tSwal.fire({\r\n\t// \t\t\t\t\ttitle: 'Asset not available',\r\n\t// \t\t\t\t\ttext: `Would you like to add ${sendingTokenName} asset now?`,\r\n\t// \t\t\t\t\tshowCancelButton: true,\r\n\t// \t\t\t\t\tconfirmButtonColor: '#3085d6',\r\n\t// \t\t\t\t\tcancelButtonColor: '#d33',\r\n\t// \t\t\t\t\tconfirmButtonText: 'Yes',\r\n\t// \t\t\t\t\tcancelButtonText: 'No'\r\n\t// \t\t\t\t}).then(res => {\r\n\t// \t\t\t\t\tif (res.isConfirmed) history.push('/import-token');\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}\r\n\r\n\t// \tscannedEthAddress && setSendToAddress(scannedEthAddress);\r\n\t// \tscannedAmount && setSendAmount(scannedAmount);\r\n\t// }, [ethBalance, history, scannedAmount, scannedEthAddress, sendingTokenName]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ModalWrapper title=\"Scan a QR Code\" showModal={scanModal} ohHide={handleScanModalToggle}>\r\n\t\t\t\t<div style={SCANNER_CAM_STYLE}>\r\n\t\t\t\t\t<QrReader\r\n\t\t\t\t\t\tdelay={SCAN_DELAY}\r\n\t\t\t\t\t\tstyle={SCANNER_PREVIEW_STYLE}\r\n\t\t\t\t\t\tonError={handleScanError}\r\n\t\t\t\t\t\tonScan={handlScanSuccess}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t\t<Loading showModal={loadingModal} message=\"Transferring tokens. Please wait...\" />\r\n\t\t\t<AppHeader currentMenu=\"Transfer\" />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div id=\"cmpMain\">\r\n\t\t\t\t\t<div className=\"section mt-2 mb-5\">\r\n\t\t\t\t\t\t<div className=\"wide-block pt-2 pb-2\">\r\n\t\t\t\t\t\t\t<div className=\"alert alert-primary mb-1\" role=\"alert\" style={{ fontSize: '1rem' }}>\r\n\t\t\t\t\t\t\t\tToken Name : <strong>{tokenDetails && tokenDetails.name}</strong> <br />\r\n\t\t\t\t\t\t\t\tCurrent Balance : <strong>{tokenDetails && tokenDetails.balance}</strong> <br />\r\n\t\t\t\t\t\t\t\tCurrent Network : <strong>{network && network.display}</strong>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"card mt-5\" id=\"cmpTransfer\">\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"sendToAddr\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tDestination Address:\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendToAddr\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sendToAddr\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter receiver's address\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSendToChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={sendToAddress}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-icon btn-primary mr-1 mb-1 btn-scan-address\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleScanModalToggle}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IoQrCodeOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"sendAmount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAmount to Send:\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSendAmtChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={sendAmount}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendAmount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"sendAmount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter amount to send\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\tImportant: Please double check the address and amount before sending.\r\n\t\t\t\t\t\t\t\t\t\t\tTransactions cannot be reversed.\r\n\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-footer text-right\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnSend\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleSendClick}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<IoSendOutline className=\"ion-icon\" /> Send Now\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import { ethers } from 'ethers';\r\n\r\nexport default function Blockchain({ wallet, network }) {\r\n\tconst provider = network != null ? new ethers.providers.JsonRpcProvider(network.url) : null;\r\n\treturn {\r\n\t\tasync getBalance(address) {\r\n\t\t\taddress = address || wallet.address;\r\n\t\t\tconst balance = await provider.getBalance(address);\r\n\t\t\treturn ethers.utils.formatEther(balance);\r\n\t\t}\r\n\t};\r\n}\r\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport EtherImg from '../../assets/images/ether.png';\r\nimport Blockchain from '../misc/blockchain';\r\nimport Contract from '../../utils/blockchain/contract';\r\nimport DataService from '../../services/db';\r\n\r\nexport default function Index() {\r\n\tlet history = useHistory();\r\n\tconst { address, network, wallet } = useContext(AppContext);\r\n\r\n\tconst [tokenAssets, setTokenAssets] = useState([]);\r\n\tconst [ethBalance, setEthBalance] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet assets = await DataService.listAssets(network.name);\r\n\t\t\tconst defaultAsset = assets.find(a => a.address === 'default');\r\n\t\t\tassets = assets.filter(a => a.address !== 'default');\r\n\t\t\tassets.unshift(defaultAsset);\r\n\t\t\tsetTokenAssets(assets);\r\n\t\t})();\r\n\t}, [network.name]);\r\n\r\n\tconst getBalances = useCallback(async () => {\r\n\t\tif (!navigator.onLine) return;\r\n\t\tfor (let token of tokenAssets) {\r\n\t\t\tif (token.address === 'default') {\r\n\t\t\t\ttoken.balance = await Blockchain({ network }).getBalance(address);\r\n\t\t\t} else {\r\n\t\t\t\tconst contract = Contract({ wallet, address: token.address, type: token.type }).get();\r\n\t\t\t\tconst tokenBalance = await contract.balanceOf(address);\r\n\t\t\t\ttoken.balance = tokenBalance.toNumber();\r\n\t\t\t}\r\n\t\t\tsetEthBalance(token.balance);\r\n\t\t\tDataService.saveAsset(token);\r\n\t\t}\r\n\t}, [address, network, tokenAssets, wallet]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetBalances();\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\tgetBalances();\r\n\t\t}, 10000);\r\n\t\treturn () => clearInterval(interval);\r\n\t}, [getBalances]);\r\n\r\n\tconst handleTokenClick = (e, tokenAddress) => {\r\n\t\te.preventDefault();\r\n\t\thistory.push('/assets/' + tokenAddress);\r\n\t};\r\n\r\n\tconst handleIconClick = e => {\r\n\t\te.preventDefault();\r\n\t\thistory.push('/import-token');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<AppHeader handleIconClick={handleIconClick} ionIcon=\"IoBriefcaseOutline\" currentMenu=\"Assets\" />\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"listview-title mt-2\">Your Token Assets</div>\r\n\r\n\t\t\t\t\t<ul className=\"listview image-listview\">\r\n\t\t\t\t\t\t{tokenAssets && tokenAssets.length > 0 ? (\r\n\t\t\t\t\t\t\ttokenAssets.map(token => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li key={token.symbol}>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref=\"#view\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => handleTokenClick(e, token.address)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={EtherImg} alt=\"Token\" className=\"image\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{token.name || 'N/A'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<footer>{token.symbol}</footer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{token.balance ? Number(token.balance).toFixed(2) : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={{ padding: 20 }}>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<small test={ethBalance}>Your assets will appear here...</small>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { IoSendOutline } from 'react-icons/io5';\r\n\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport EtherImg from '../../assets/images/ether.png';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DataService from '../../services/db';\r\nimport { AppContext } from '../../contexts/AppContext';\r\n\r\nexport default function Details(props) {\r\n\tlet history = useHistory();\r\n\tconst { network } = useContext(AppContext);\r\n\tlet tokenAddress = props.match.params.address;\r\n\r\n\tconst [tokenDetails, setTokenDetails] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tconst token = await DataService.getAsset(tokenAddress);\r\n\t\t\tif (token) setTokenDetails(token);\r\n\t\t})();\r\n\t}, [tokenAddress]);\r\n\r\n\tconst handleTransferClick = async e => {\r\n\t\te.preventDefault();\r\n\t\thistory.push('/transfer/' + tokenAddress);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppHeader currentMenu=\"Token Details\" />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"section mt-2\">\r\n\t\t\t\t\t{/* item */}\r\n\t\t\t\t\t<div className=\"card cart-item mb-2\">\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"in\">\r\n\t\t\t\t\t\t\t\t<img src={EtherImg} alt=\"product\" className=\"imaged\" />\r\n\t\t\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"title\">{tokenDetails ? tokenDetails.name : 'N/A'}</h3>\r\n\t\t\t\t\t\t\t\t\t<p className=\"detail\">{tokenDetails && tokenDetails.symbol}</p>\r\n\t\t\t\t\t\t\t\t\t<strong className=\"price\"> {tokenDetails && tokenDetails.balance}</strong>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-item-footer\">\r\n\t\t\t\t\t\t\t\t<div className=\"stepper  stepper-secondary\">\r\n\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.8rem' }}>{network && network.display}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref=\"#send\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => handleTransferClick(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-sm\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<IoSendOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* * item */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ActionButton({ icon, btnText, imageUrl, handleClick }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"col-sm-3\" style={{ marginTop: 15 }}>\r\n\t\t\t\t<img className=\"card-img-top\" height=\"194\" src={imageUrl} alt=\"My doc\" />\r\n\t\t\t\t<div className=\"card text-center\">\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<button onClick={handleClick} type=\"button\" className=\"btn btn-success btn-md\" id=\"btnMnemonic\">\r\n\t\t\t\t\t\t\t{icon} {btnText}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageViewer(props) {\r\n\tconst { showModal, handleDownloadClick, handleRemoveDocClick, children, ohHide, documentName } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\tclassName=\"modal fade stories\"\r\n\t\t\t\tid=\"StoryDefault\"\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole=\"dialog\"\r\n\t\t\t\tshow={showModal}\r\n\t\t\t\tonHide={ohHide}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t>\r\n\t\t\t\t<Modal.Body style={{ padding: 0 }}>{children}</Modal.Body>\r\n\t\t\t\t<Modal.Footer style={{ padding: 0, justifyContent: 'space-between' }}>\r\n\t\t\t\t\t<div style={{ float: 'left' }}>{documentName}</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button onClick={handleRemoveDocClick} className=\"btn-sm\" variant=\"danger\">\r\n\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={e => handleDownloadClick(e)}\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDownload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nImageViewer.propTypes = {\r\n\tohHide: PropTypes.func.isRequired,\r\n\tshowModal: PropTypes.bool.isRequired\r\n};\r\n","export function mergeAndRemoveDuplicate(array1 = [], array2 = [], keyName) {\r\n\tconst array3 = [...array1, ...array2];\r\n\t// Return unique array on the basis of keyName.\r\n\treturn [...new Map(array3.map(item => [item[`${keyName}`], item])).values()];\r\n}\r\n\r\nexport function dataURLtoFile(dataurl, filename = 'my_doc') {\r\n\tvar arr = dataurl.split(','),\r\n\t\tmime = arr[0].match(/:(.*?);/)[1],\r\n\t\tbstr = atob(arr[1]),\r\n\t\tn = bstr.length,\r\n\t\tu8arr = new Uint8Array(n);\r\n\r\n\twhile (n--) {\r\n\t\tu8arr[n] = bstr.charCodeAt(n);\r\n\t}\r\n\r\n\treturn new File([u8arr], filename, { type: mime });\r\n}\r\n\r\nexport function arraysAreEqual(ary1, ary2) {\r\n\treturn ary1.join('') === ary2.join('');\r\n}\r\n\r\nexport function base64ToBlob(base64Url) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfetch(base64Url)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconst result = res.blob();\r\n\t\t\t\tresolve(result);\r\n\t\t\t})\r\n\t\t\t.catch(err => reject(err));\r\n\t});\r\n}\r\n\r\nexport const blobToBase64 = blob => {\r\n\tconst reader = new FileReader();\r\n\treader.readAsDataURL(blob);\r\n\treturn new Promise(resolve => {\r\n\t\treader.onloadend = () => {\r\n\t\t\tresolve(reader.result);\r\n\t\t};\r\n\t});\r\n};\r\n","export default __webpack_public_path__ + \"static/media/camera-doc-overlay.165d5275.svg\";","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport Webcam from 'react-webcam';\r\nimport PropTypes from 'prop-types';\r\nimport { IoCloseCircleOutline, IoCameraOutline, IoCameraReverseOutline } from 'react-icons/io5';\r\n\r\nimport { dataURLtoFile, base64ToBlob, blobToBase64 } from '../../utils';\r\nimport overlayImage from '../../assets/images/camera-doc-overlay.svg';\r\n\r\nexport default function CameraModal(props) {\r\n\tconst { handleCapture, modalSize, showModal, ohHide, closeModal, webcamRef } = props;\r\n\tconst [cameraModal, setCameraModal] = useState(false);\r\n\tconst [previewImage, setPreviewImage] = useState('');\r\n\tconst [imageViewModal, setImageViewModal] = useState(false);\r\n\tconst [videoConstraints, setVideoConstraints] = useState({\r\n\t\twidth: window.innerHeight,\r\n\t\theight: window.innerWidth,\r\n\t\tfacingMode: 'environment'\r\n\t});\r\n\tconst [imagePreviewModal, setImagePreviewModal] = useState(false);\r\n\tconst [documentName, setDocumentName] = useState('');\r\n\tconst [blobFile, setBlobFile] = useState('');\r\n\tconst [myDocuments, setMyDocuments] = useState([]);\r\n\r\n\tconst handleDocumentNameChange = e => {\r\n\t\tsetDocumentName(e.target.value);\r\n\t};\r\n\r\n\tconst toggleImageViewModal = (e, base64Url, docName) => {\r\n\t\tif (e) e.preventDefault();\r\n\t\tsetCurrentDocumentName(docName);\r\n\t\tsetCurrentDocument(base64Url);\r\n\t\tsetImageViewModal(!imageViewModal);\r\n\t};\r\n\r\n\tconst toggleCameraModal = () => {\r\n\t\tsetCameraModal(!cameraModal);\r\n\t};\r\n\r\n\tconst toggleImagePreviewModal = () => {\r\n\t\tsetDocumentName('');\r\n\t\tsetImagePreviewModal(!imagePreviewModal);\r\n\t};\r\n\r\n\tconst handleDocumentSubmit = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\t//var buffer = await blobFile.arrayBuffer();\r\n\t\t// const img = btoa(String.fromCharCode(...new Uint8Array(await blobFile.arrayBuffer()))); //new Buffer.from(await file.arrayBuffer()).toString('ascii');\r\n\t\t// console.log(`data:image/png;base64,${img}`);\r\n\t\tconsole.log(previewImage);\r\n\t\tconst file = dataURLtoFile(previewImage, documentName);\r\n\t\tconst { hash, encryptedFileString } = await encryptFile(previewImage);\r\n\r\n\t\tlet payload = {\r\n\t\t\thash,\r\n\t\t\ttype: 'general',\r\n\t\t\tname: documentName,\r\n\t\t\tfile,\r\n\t\t\tencryptedFile: encryptedFileString,\r\n\t\t\tcreatedAt: Date.now(),\r\n\t\t\tinIpfs: false\r\n\t\t};\r\n\t\tawait DataService.saveDocuments(payload);\r\n\t\tpayload.file = previewImage;\r\n\t\tsetMyDocuments([...myDocuments, payload]);\r\n\r\n\t\ttoggleImagePreviewModal();\r\n\t\tsetPreviewImage('');\r\n\t\tsetDocumentName('');\r\n\t};\r\n\r\n\tconst handleFaceChange = () => {\r\n\t\tconst { facingMode } = videoConstraints;\r\n\t\tconst face = facingMode === 'environment' ? 'user' : 'environment';\r\n\t\tsetVideoConstraints({ ...videoConstraints, facingMode: face });\r\n\t};\r\n\r\n\tconst handleCaptureAgain = e => {\r\n\t\te.preventDefault();\r\n\t\ttoggleImagePreviewModal();\r\n\t\ttoggleCameraModal();\r\n\t};\r\n\r\n\tconst capture = () => {\r\n\t\tconst imageSrc = webcamRef.current.getScreenshot();\r\n\t\tbase64ToBlob(imageSrc)\r\n\t\t\t.then(blob => {\r\n\t\t\t\tsetBlobFile(blob);\r\n\t\t\t\tsetPreviewImage(imageSrc);\r\n\t\t\t\ttoggleCameraModal();\r\n\t\t\t\ttoggleImagePreviewModal();\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tSwal.fire('ERROR', 'Image capture failed', 'error');\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\tsize={modalSize || 'md'}\r\n\t\t\t\tshow={showModal || false}\r\n\t\t\t\tonHide={ohHide}\r\n\t\t\t\tclassName=\"fullscreen-modal\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: window.innerWidth,\r\n\t\t\t\t\theight: window.innerHeight\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Webcam\r\n\t\t\t\t\t\taudio={false}\r\n\t\t\t\t\t\tref={webcamRef}\r\n\t\t\t\t\t\tscreenshotFormat=\"image/jpeg\"\r\n\t\t\t\t\t\tvideoConstraints={videoConstraints}\r\n\t\t\t\t\t\tstyle={{}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={overlayImage}\r\n\t\t\t\t\talt=\"camera overlay\"\r\n\t\t\t\t\tclassName=\"camera-document-overlay\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: window.innerWidth,\r\n\t\t\t\t\t\theight: window.innerHeight\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-danger rounded me-1 camera-capture-button\"\r\n\t\t\t\t\tonClick={handleCapture}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttop: (window.innerHeight - 50) / 2,\r\n\t\t\t\t\t\tleft: 30,\r\n\t\t\t\t\t\tborder: '3px white solid',\r\n\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\topacity: 0.8\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t&nbsp; &nbsp;\r\n\t\t\t\t\t<IoCameraOutline className=\"ion-icon\" />\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-icon btn-dark rounded me-1 mb-1 camera-close-button\"\r\n\t\t\t\t\tonClick={closeModal}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tleft: window.innerWidth - 60,\r\n\t\t\t\t\t\ttop: window.innerHeight - 70\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IoCloseCircleOutline className=\"ion-icon\" />\r\n\t\t\t\t</button>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nCameraModal.propTypes = {\r\n\tohHide: PropTypes.func.isRequired,\r\n\tshowModal: PropTypes.bool.isRequired\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAh1BMVEX///8ANkkAK0EAM0ZqgosALUKerLIAO01CY3Gvur89XmwANUlKaXW0v8S3wMTe5ecAHzintLlWb3p3ipKNnaQAJDvCyMtLZHDI0dU9X2zZ3+EAITq7xspie4WDmKBrhY8AFTIAACkmTl01WGYQQVJ8j5jk6uvw8/QADC0AFDLFz9MAABwAACAUn2nwAAADq0lEQVR4nO3d61biMBSGYdK0RBmBoqBQEPGsOPd/fYPoGlJmmh52ErLj9/zFRl8p7aKn9HoAAAAAAAAAAAAAAAAAANDF/DZ1bX3awtFSOpYtTlyYKJU5JJU4O3nhw6TvTipPXygGLscfJgEUOv2cnKPQORRSodA9FFKh0L34C1eO/wIvhXcXBo9CPZle/7ZYdfzlXgoX8lc1oZQyvPz3x5YdE70UngklE5Js92/omOipUD6PhhR92TnRU2EypI3wMlNdE30VntNGGM/Uk+yWyKdQFZlQeftEPoWyVySiw7vIqfArcdRyUVaFX4nDca3i9bAor8J9YjKr9TY5LMqscJ9YL2Nc+J2Y5Eb3nAt7xW7HIbfNF+VXuE9ssdNgWLhfUZvv+jkWttv1syxslcizsM2KyrSwxbvItXCX2HCLyrawcSLfwqb7RcaFDRM5F+5X1NotKuvCRp9F3oVNEpkXNlhRuRf2ClHzLvIpFKvr/5lPa46j8ilUFac0Po/3q3xeuSiXwlwY7OqrjzEyKXx5vKl28aTkdLvSvRwWZVJotjg+e7fpH16MonAgVHm1nfE71mY2EKK8Fg+0k3mRFCbVu4tYCtlvS81QiEI6FFKhEIV0KKQKrbCY2KB9ewiucLKxccPWvTZ+cIUz0/f1pt618UMrXN1cWqD/1aEV2odCFNLhOz7VQIjbqW6tHSCOpFCJ0t3beXzH2o4Kl/EVissrXapd2RdJYfxbmh+wt0ChYyikQiEK6VBIhULfhdv0yoJUGz+0womVR1+9aeMHV5jbOF4acuF8PbVAfwZbaIX2oRCFdPiOT/V51ddF5Fd9xX/lnpKlnWWEV1/K5/PSGeLi8GIkhT9gW4pCx1BIhUIU0qGQCoUopCsXDh8HFjxo44dWaOfKvY02fnCFG9pTIr+EfPXleLSyQH8QY2iF9qEQhXQeCq8rX4ykkP8z98z+KUwiLJSlJ0O+R3g0cTrXbWO7H/9HbEtR6BgKqVCIQjoUUqEQhXRHR6LuzQ/jbuZDGz+4wqzBU9Vr5dr4wRW+1T8Yv95vbfzQCl/r5zZoQhs/tEL7UIhCOhRSGQu9zJbr47q2qjnBRs8+Zjz2cTSx8jScl1mrfVxfaph2T7qfedzLNcIGdy5/+d5Jz8x4cdJtqRcopEKheyikQqF7KKQKopA4W67ZIoBCmfbdmTyYZg7wVHh055VlxrkRvFhkNu5PN1k6/RTUW6eu3VbP4AEAAAAAAAAAAAAAAAAAACZ/AO9yoVMD1JMxAAAAAElFTkSuQmCC\"","import React, { useState, useEffect, useContext } from 'react';\r\nimport { DropdownButton, Dropdown, ButtonToolbar, SplitButton } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Webcam from 'react-webcam';\r\nimport Swal from 'sweetalert2';\r\nimport {\r\n\tIoCloseCircle,\r\n\tIoAddCircleOutline,\r\n\tIoCloseOutline,\r\n\tIoPencilOutline,\r\n\tIoEllipsisHorizontal\r\n} from 'react-icons/io5';\r\nimport IpfsHash from 'ipfs-only-hash';\r\nimport EthCrypto from 'eth-crypto';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport AppHeader from '../layouts/AppHeader';\r\nimport ModalWrapper from '../../modules/global/ModalWrapper';\r\nimport ActionButton from './actionButton';\r\nimport ImageViewer from '../../modules/global/ImageViewer';\r\nimport CameraModal from './camera';\r\n\r\nimport { dataURLtoFile, base64ToBlob, blobToBase64 } from '../../utils';\r\nimport DataService from '../../services/db';\r\nimport docImg from '../../assets/images/doc.png';\r\nconst IPFS_CLIENT = require('ipfs-http-client');\r\n\r\n// const IPFS_VIEW_URL = 'http://127.0.0.1:8080/ipfs';\r\n\r\nexport default function Index() {\r\n\tconst { wallet } = useContext(AppContext);\r\n\tconst [cameraModal, setCameraModal] = useState(false);\r\n\tconst [previewImage, setPreviewImage] = useState('');\r\n\tconst [imageViewModal, setImageViewModal] = useState(false);\r\n\tconst [currentDocument, setCurrentDocument] = useState(''); // Viewing current document file base64 url\r\n\tconst [currentDocumentName, setCurrentDocumentName] = useState(''); // Viewng current document name\r\n\tconst [videoConstraints, setVideoConstraints] = useState({\r\n\t\twidth: 1080,\r\n\t\theight: 500,\r\n\t\tfacingMode: 'environment'\r\n\t});\r\n\tconst [imagePreviewModal, setImagePreviewModal] = useState(false);\r\n\tconst [documentName, setDocumentName] = useState('');\r\n\tconst [blobFile, setBlobFile] = useState('');\r\n\tconst [myDocuments, setMyDocuments] = useState([]);\r\n\r\n\tconst publicKey = EthCrypto.publicKeyByPrivateKey(wallet.privateKey);\r\n\r\n\tconst handleDocumentNameChange = e => {\r\n\t\tsetDocumentName(e.target.value);\r\n\t};\r\n\r\n\tconst toggleImageViewModal = (e, base64Url, docName) => {\r\n\t\tif (e) e.preventDefault();\r\n\t\tsetCurrentDocumentName(docName);\r\n\t\tsetCurrentDocument(base64Url);\r\n\t\tsetImageViewModal(!imageViewModal);\r\n\t};\r\n\r\n\tconst toggleCameraModal = () => {\r\n\t\tsetCameraModal(!cameraModal);\r\n\t};\r\n\r\n\tconst toggleImagePreviewModal = () => {\r\n\t\tsetDocumentName('');\r\n\t\tsetImagePreviewModal(!imagePreviewModal);\r\n\t};\r\n\r\n\tconst webcamRef = React.useRef(null);\r\n\r\n\tconst getIpfsHash = async dataurl => {\r\n\t\tvar arr = dataurl.split(','),\r\n\t\t\tmime = arr[0].match(/:(.*?);/)[1],\r\n\t\t\tbstr = atob(arr[1]),\r\n\t\t\tn = bstr.length,\r\n\t\t\tu8arr = new Uint8Array(n);\r\n\r\n\t\twhile (n--) {\r\n\t\t\tu8arr[n] = bstr.charCodeAt(n);\r\n\t\t}\r\n\r\n\t\treturn IpfsHash.of(u8arr);\r\n\t};\r\n\r\n\tconst encryptFile = async file => {\r\n\t\tconst encryptedFile = await EthCrypto.encryptWithPublicKey(publicKey, file);\r\n\t\tconst encryptedFileString = EthCrypto.cipher.stringify(encryptedFile);\r\n\t\tlet hash = await IpfsHash.of(encryptedFileString);\r\n\t\treturn { encryptedFile, encryptedFileString, hash };\r\n\t};\r\n\r\n\tconst handleDocumentSubmit = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\t//var buffer = await blobFile.arrayBuffer();\r\n\t\t// const img = btoa(String.fromCharCode(...new Uint8Array(await blobFile.arrayBuffer()))); //new Buffer.from(await file.arrayBuffer()).toString('ascii');\r\n\t\t// console.log(`data:image/png;base64,${img}`);\r\n\t\tconsole.log(previewImage);\r\n\t\tconst file = dataURLtoFile(previewImage, documentName);\r\n\t\tconst { hash, encryptedFileString } = await encryptFile(previewImage);\r\n\r\n\t\tlet payload = {\r\n\t\t\thash,\r\n\t\t\ttype: 'general',\r\n\t\t\tname: documentName,\r\n\t\t\tfile,\r\n\t\t\tencryptedFile: encryptedFileString,\r\n\t\t\tcreatedAt: Date.now(),\r\n\t\t\tinIpfs: false\r\n\t\t};\r\n\t\tawait DataService.saveDocuments(payload);\r\n\t\tpayload.file = previewImage;\r\n\t\tsetMyDocuments([...myDocuments, payload]);\r\n\r\n\t\ttoggleImagePreviewModal();\r\n\t\tsetPreviewImage('');\r\n\t\tsetDocumentName('');\r\n\t};\r\n\r\n\tconst handleFaceChange = () => {\r\n\t\tconst { facingMode } = videoConstraints;\r\n\t\tconst face = facingMode === 'environment' ? 'user' : 'environment';\r\n\t\tsetVideoConstraints({ ...videoConstraints, facingMode: face });\r\n\t};\r\n\r\n\tconst handleCaptureAgain = e => {\r\n\t\te.preventDefault();\r\n\t\ttoggleImagePreviewModal();\r\n\t\ttoggleCameraModal();\r\n\t};\r\n\r\n\tconst capture = () => {\r\n\t\tconst imageSrc = webcamRef.current.getScreenshot();\r\n\t\tbase64ToBlob(imageSrc)\r\n\t\t\t.then(blob => {\r\n\t\t\t\tsetBlobFile(blob);\r\n\t\t\t\tsetPreviewImage(imageSrc);\r\n\t\t\t\ttoggleCameraModal();\r\n\t\t\t\ttoggleImagePreviewModal();\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tSwal.fire('ERROR', 'Image capture failed', 'error');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleDownloadClick = e => {\r\n\t\te.preventDefault();\r\n\t\treturn downloadFile(currentDocument);\r\n\t};\r\n\r\n\tfunction downloadFile(url) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', url, true);\r\n\t\txhr.responseType = 'blob';\r\n\t\txhr.onload = function () {\r\n\t\t\tvar urlCreator = window.URL || window.webkitURL;\r\n\t\t\tvar imageUrl = urlCreator.createObjectURL(this.response);\r\n\t\t\tvar tag = document.createElement('a');\r\n\t\t\ttag.href = imageUrl;\r\n\t\t\ttag.download = currentDocumentName;\r\n\t\t\tdocument.body.appendChild(tag);\r\n\t\t\ttag.click();\r\n\t\t\tdocument.body.removeChild(tag);\r\n\t\t};\r\n\t\txhr.send();\r\n\t}\r\n\r\n\tconst handleRemoveDocClick = () => {\r\n\t\tconsole.log('Not Implemented: remove from ipfs and indexedDB');\r\n\t};\r\n\r\n\tconst getFileBlob = async url => {\r\n\t\tconst response = await fetch(url);\r\n\t\treturn response.blob();\r\n\t};\r\n\r\n\tconst backupToIPFS = async () => {\r\n\t\tconst { ipfsUrl } = await DataService.getIpfs();\r\n\t\tlet documents = await DataService.listDocuments();\r\n\t\tconst ipfs = IPFS_CLIENT(ipfsUrl);\r\n\t\tfor (let doc of documents) {\r\n\t\t\tif (doc.inIpfs !== true) {\r\n\t\t\t\tipfs.add(doc.encryptedFile).then(res => {\r\n\t\t\t\t\tdoc.inIpfs = true;\r\n\t\t\t\t\tDataService.updateDocument(doc.hash, doc);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// window.wallet = wallet;\r\n\t\t// const test = await DataService.get('backup_passphrase');\r\n\r\n\t\t// const reveal = await EthCrypto.decryptWithPrivateKey(wallet.privateKey, test);\r\n\r\n\t\t// //console.log(wallet.privateKey);\r\n\t\t// //console.log(EthCrypto.publicKeyByPrivateKey(wallet.privateKey));\r\n\t\t// //console.log(wallet.publicKey);\r\n\r\n\t\t// console.log(reveal);\r\n\t};\r\n\r\n\tconst GetfromIPFS = async () => {\r\n\t\tlet { ipfsDownloadUrl } = await DataService.getIpfs();\r\n\t\tlet documents = await DataService.listDocuments();\r\n\t\tfor (let doc of documents) {\r\n\t\t\tif (!doc.file) {\r\n\t\t\t\tlet encryptedFileBlob = await getFileBlob(ipfsDownloadUrl + '/' + doc.hash);\r\n\t\t\t\tlet encryptedFile = await encryptedFileBlob.text();\r\n\t\t\t\tconst encryptedObject = EthCrypto.cipher.parse(encryptedFile);\r\n\t\t\t\tconst decryptedFile = await EthCrypto.decryptWithPrivateKey(wallet.privateKey, encryptedObject);\r\n\t\t\t\tconst file = dataURLtoFile(decryptedFile, doc.name);\r\n\t\t\t\tawait DataService.updateDocument(doc.hash, { file, encryptedFile });\r\n\t\t\t\tconsole.info('Downloaded file: ' + doc.hash);\r\n\t\t\t\tdoc.file = await blobToBase64(file);\r\n\t\t\t} else {\r\n\t\t\t\tif (doc.file) doc.file = await blobToBase64(doc.file);\r\n\t\t\t}\r\n\t\t\tdoc.name = doc.encryptedFile ? doc.encryptedFile.length / 1000 : doc.name;\r\n\t\t}\r\n\t\tsetMyDocuments(documents);\r\n\t};\r\n\r\n\t//setTimeout(syncDocuments, 2000);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet documents = await DataService.listDocuments();\r\n\t\t\tlet { ipfsDownloadUrl } = await DataService.getIpfs();\r\n\t\t\tfor (let doc of documents) {\r\n\t\t\t\tif (doc.file) doc.file = await blobToBase64(doc.file);\r\n\t\t\t\telse doc.file = 'https://i.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.webp'; // ipfsDownloadUrl + '/' + doc.hash;\r\n\t\t\t}\r\n\t\t\tsetMyDocuments(documents);\r\n\t\t\tGetfromIPFS();\r\n\t\t\tbackupToIPFS();\r\n\t\t})();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppHeader\r\n\t\t\t\tionIcon=\"IoDocumentLockOutline\"\r\n\t\t\t\tcurrentMenu=\"Secure Document Vault\"\r\n\t\t\t\tactionButton={\r\n\t\t\t\t\t<Link className=\"headerButton\" to=\"#\" onClick={toggleCameraModal}>\r\n\t\t\t\t\t\t<IoAddCircleOutline className=\"ion-icon\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div class=\"section mt-2\">\r\n\t\t\t\t\t{myDocuments.length > 0 &&\r\n\t\t\t\t\t\tmyDocuments.map(doc => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={doc.hash} class=\"card-block bg-secondary mb-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"card-main\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"card-button dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"link\" bsPrefix=\"p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IoEllipsisHorizontal className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#/action-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IoPencilOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#/action-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IoCloseOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"balance\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"title\">Citizenship Card</h1>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"in\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"card-number\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"label\">Number</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t 9905\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"card-expiry\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"label\">Expiry Date</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNever\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ImageViewer\r\n\t\t\t\thandleRemoveDocClick={handleRemoveDocClick}\r\n\t\t\t\thandleDownloadClick={handleDownloadClick}\r\n\t\t\t\tshowModal={imageViewModal}\r\n\t\t\t\tohHide={toggleImageViewModal}\r\n\t\t\t\tdocumentName={currentDocumentName}\r\n\t\t\t>\r\n\t\t\t\t<div role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t<div className=\"story-image\">\r\n\t\t\t\t\t\t\t<img width=\"100%\" src={currentDocument} alt=\"My document\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</ImageViewer>\r\n\t\t\t<ModalWrapper modalSize=\"lg\" title=\"\" showModal={imagePreviewModal} ohHide={toggleImagePreviewModal}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={{ minHeight: 350, maxHeight: 450 }}\r\n\t\t\t\t\tclassName=\"card-img-top\"\r\n\t\t\t\t\tsrc={previewImage ? previewImage : docImg}\r\n\t\t\t\t\talt=\"My doc\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"section mt-4 mb-5\">\r\n\t\t\t\t\t<form onSubmit={e => handleDocumentSubmit(e)}>\r\n\t\t\t\t\t\t<div className=\"form-group basic\">\r\n\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"documentName\">\r\n\t\t\t\t\t\t\t\t\tDocument Name\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tname=\"documentName\"\r\n\t\t\t\t\t\t\t\t\tid=\"documentName\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleDocumentNameChange}\r\n\t\t\t\t\t\t\t\t\tvalue={documentName}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter short document name\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-links mt-2\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<a href=\"#capture\" onClick={e => handleCaptureAgain(e)}>\r\n\t\t\t\t\t\t\t\t\tCapture another?\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"mt-2\">\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\">\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t\t<CameraModal\r\n\t\t\t\tmodalSize=\"lg\"\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tshowModal={cameraModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tsetCameraModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tohHide={toggleCameraModal}\r\n\t\t\t\thandleCapture={capture}\r\n\t\t\t\twebcamRef={webcamRef}\r\n\t\t\t/>\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\" style={{ marginBottom: 30 }}>\r\n\t\t\t\t\t\t\t\t\t{myDocuments.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\tmyDocuments.map(doc => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={doc.hash} className=\"col-sm-3\" style={{ marginTop: 15 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"card\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => toggleImageViewModal(e, doc.file, doc.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderRadius: '6px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"card-img-top\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={doc.file}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"My doc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"282\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\t\t\tbtnText=\"Take a picture to upload\"\r\n\t\t\t\t\t\t\t\t\t\timageUrl={docImg}\r\n\t\t\t\t\t\t\t\t\t\ticon={<IoAddCircleOutline className=\"ion-icon\" />}\r\n\t\t\t\t\t\t\t\t\t\thandleClick={toggleCameraModal}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user.4a000e6c.svg\";","const driveUploadPath = 'https://www.googleapis.com/upload/drive/v3/files';\r\nconst fileFields = 'id,version,name,appProperties';\r\n\r\nexport default class GFile {\r\n\tconstructor(gapi) {\r\n\t\tthis.gapi = gapi;\r\n\t}\r\n\r\n\t/**\r\n\t * Get all stories available on the Google Drive. Never rejects\r\n\t *\r\n\t * @method listFiles\r\n\t * @return {Promise|Array} A promise of the result that\r\n\t * returns an array of file descriptions:\r\n\t * [{driveId, driveVersion, name, ifid}]\r\n\t */\r\n\tlistFiles(parentId) {\r\n\t\tfunction formatResult(response) {\r\n\t\t\tconst stories = [];\r\n\t\t\tfor (let i = 0; i < response.files.length; i++) {\r\n\t\t\t\tconst file = response.files[i];\r\n\t\t\t\tstories.push(file);\r\n\t\t\t}\r\n\t\t\treturn stories;\r\n\t\t}\r\n\r\n\t\tlet q = 'trashed=false';\r\n\t\tif (parentId) q = `'${parentId}' in parents and trashed=false`;\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.list({\r\n\t\t\t\t\tpageSize: 300,\r\n\t\t\t\t\tfields: `files(${fileFields})`,\r\n\t\t\t\t\tq\r\n\t\t\t\t})\r\n\t\t\t\t.execute(response => resolve(formatResult(response)));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Creates file with name and uploads data. Never rejects\r\n\t *\r\n\t * @method createFile\r\n\t * @param {String} name Name of the new file on Google Drive\r\n\t * @param {String} data Data to put into the file\r\n\t * @param {String} ifid Interactive Fiction Identifier. Internal id\r\n\t * @return {Promise|Object} A promise of the result that returns\r\n\t * a file description: {driveId, driveVersion, name, ifid}\r\n\t */\r\n\tcreateFile({ name, data, parentId, ifid }) {\r\n\t\t// Current version of this.gapi.client.drive is not capable of\r\n\t\t// uploading the file so we'll do it with more generic\r\n\t\t// interface. This will create file with given name and\r\n\t\t// properties in one request with multipart request.\r\n\r\n\t\t// Some random string that is unlikely to be in transmitted data:\r\n\t\tconst boundary = '-batch-31415926579323846boundatydnfj111';\r\n\t\tconst delimiter = `\\r\\n--${boundary}\\r\\n`;\r\n\t\tconst closeDelim = `\\r\\n--${boundary}--`;\r\n\r\n\t\tconst metadata = {\r\n\t\t\tmimeType: 'Content-Type: text/xml',\r\n\t\t\tname,\r\n\t\t\tappProperties: { ifid }\r\n\t\t};\r\n\t\tif (parentId) metadata.parents = [parentId];\r\n\r\n\t\tconst multipartRequestBody = `${delimiter}Content-Type: application/json\\r\\n\\r\\n${JSON.stringify(\r\n\t\t\tmetadata\r\n\t\t)}${delimiter}Content-Type: text/xml\\r\\n\\r\\n${data}${closeDelim}`;\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client\r\n\t\t\t\t.request({\r\n\t\t\t\t\tpath: driveUploadPath,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuploadType: 'multipart',\r\n\t\t\t\t\t\tfields: fileFields\r\n\t\t\t\t\t},\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': `multipart/related; boundary=\"${boundary}\"`\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: multipartRequestBody\r\n\t\t\t\t})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tresponse => resolve(response.result),\r\n\t\t\t\t\terror => resolve({})\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Get the file description. Never rejects\r\n\t *\r\n\t * @method getFileDescription\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @return {Promise|Object} A promise of the result that returns\r\n\t * a file description: {driveId, driveVersion, name, ifid}\r\n\t */\r\n\tgetFileDescription(driveId) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.get({\r\n\t\t\t\t\tfileId: driveId,\r\n\t\t\t\t\tfields: fileFields\r\n\t\t\t\t})\r\n\t\t\t\t.execute(response => resolve(response));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Downloads the content of the file. Can reject\r\n\t *\r\n\t * @method downloadFile\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @return {Promise|String} A promise of the result that returns\r\n\t * a file data string\r\n\t */\r\n\tdownloadFile(driveId) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.get({\r\n\t\t\t\t\tfileId: driveId,\r\n\t\t\t\t\talt: 'media'\r\n\t\t\t\t})\r\n\t\t\t\t.then(data => resolve(data.body), reject);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Changes the name of the file on Google Drive. Can reject\r\n\t *\r\n\t * @method renameFile\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @param {String} newName New name that will be displayed in drive\r\n\t * @return {Promise|Object} A promise of the result that returns\r\n\t * a file description: {driveId, driveVersion, name, ifid}\r\n\t */\r\n\trenameFile(driveId, newName) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.update({\r\n\t\t\t\t\tfileId: driveId,\r\n\t\t\t\t\tname: newName,\r\n\t\t\t\t\tfields: fileFields\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => resolve(response.result), reject);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Removes file completely from drive. Can reject\r\n\t *\r\n\t * @method deleteFile\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @return {Promise} A promise of the result\r\n\t */\r\n\tdeleteFile(driveId) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.delete({\r\n\t\t\t\t\tfileId: driveId\r\n\t\t\t\t})\r\n\t\t\t\t.then(resolve, reject);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Replaces the file content with newData. Can reject\r\n\t *\r\n\t * @method updateFile\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @param {String} newData Data to put into the file\r\n\t * @return {Promise|Object} A promise of the result that returns\r\n\t * a story description: {driveId, driveVersion, name, ifid}\r\n\t */\r\n\tupdateFile(driveId, newData) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client\r\n\t\t\t\t.request({\r\n\t\t\t\t\tpath: `${driveUploadPath}/${driveId}`,\r\n\t\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\t\tparams: { uploadType: 'media', fields: fileFields },\r\n\t\t\t\t\tbody: newData\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => resolve(response.result), reject);\r\n\t\t});\r\n\t}\r\n\r\n\tasync getByName(name, parentId) {\r\n\t\tlet q = `name='${name}' and trashed = false`;\r\n\t\tif (parentId) q = `name='${name}' and trashed = false and '${parentId}' in parents`;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.list({\r\n\t\t\t\t\tpageSize: 1,\r\n\t\t\t\t\tq\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tfiles: response.result.files,\r\n\t\t\t\t\t\tincompleteSearch: response.result.incompleteSearch,\r\n\t\t\t\t\t\tfirstFile: response.result.files.length > 0 ? response.result.files[0] : null,\r\n\t\t\t\t\t\texists: response.result.files.length > 0\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","const fileFields = 'id,version,name,appProperties';\r\n\r\nclass GFolder {\r\n\tconstructor(gapi) {\r\n\t\tthis.gapi = gapi;\r\n\t}\r\n\t/**\r\n\t * Create a folder on Google Drive. Can reject\r\n\t *\r\n\t * @method renameFile\r\n\t * @param {String} driveId Google Drive file identifier\r\n\t * @param {String} newName New name that will be displayed in drive\r\n\t * @return {Promise|Object} A promise of the result that returns\r\n\t * a file description: {driveId, driveVersion, name, ifid}\r\n\t */\r\n\tcreate(name, options) {\r\n\t\toptions = options || {};\r\n\t\tconst metadata = {\r\n\t\t\tname,\r\n\t\t\tmimeType: 'application/vnd.google-apps.folder',\r\n\t\t\tappProperties: { ifid: options.ifid }\r\n\t\t};\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.create({\r\n\t\t\t\t\tresource: metadata,\r\n\t\t\t\t\tfields: fileFields\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => resolve(response.result), reject);\r\n\t\t});\r\n\t}\r\n\r\n\tgetByName(name) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.gapi.client.drive.files\r\n\t\t\t\t.list({\r\n\t\t\t\t\tpageSize: 1,\r\n\t\t\t\t\tq: `name='${name}' and trashed = false and mimeType = 'application/vnd.google-apps.folder'`\r\n\t\t\t\t})\r\n\t\t\t\t.then(response =>\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tfiles: response.result.files,\r\n\t\t\t\t\t\tincompleteSearch: response.result.incompleteSearch,\r\n\t\t\t\t\t\tfirstFile: response.result.files.length > 0 ? response.result.files[0] : null,\r\n\t\t\t\t\t\texists: response.result.files.length > 0\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tasync ensureExists(name, options) {\r\n\t\tlet { firstFile } = await this.getByName(name);\r\n\t\tif (firstFile) return { id: firstFile.id, name: firstFile.name };\r\n\t\treturn this.create(name, options);\r\n\t}\r\n}\r\n\r\nexport default GFolder;\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { gapi } from 'gapi-script';\r\nimport { IoChevronBackOutline, IoHomeOutline, IoCloseCircle } from 'react-icons/io5';\r\nimport EthCrypto from 'eth-crypto';\r\n\r\nimport { BACKUP } from '../../constants';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport DataService from '../../services/db';\r\nimport UserImg from '../../assets/images/user.svg';\r\n\r\nimport { GFile, GFolder } from '../../utils/google';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];\r\nconst GOOGLE_REDIRECT_URL = process.env.REACT_APP_GOOGLE_REDIRECT_URL;\r\nconst CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport default function GoogleBackup() {\r\n\tconst history = useHistory();\r\n\r\n\tconst Actions = [\r\n\t\t{\r\n\t\t\thash: '#choose-account',\r\n\t\t\tlabel: 'Please choose Google account. Please click the switch account button to change account.'\r\n\t\t},\r\n\t\t{\r\n\t\t\thash: '#process',\r\n\t\t\tlabel: 'Your is being backed up in Google Drive.'\r\n\t\t},\r\n\t\t{\r\n\t\t\thash: '#enter-passphrase',\r\n\t\t\tlabel: 'Please enter backup passphrase. It must be at least 10 characters long with one number and alphabet. Button will appear after you type 12 characters. <br />PLEASE NOTE: THIS IS DIFFERENT THAN YOUR 6-DIGIT PASSCODE.'\r\n\t\t}\r\n\t];\r\n\r\n\tconst { wallet } = useContext(AppContext);\r\n\tconst passphraseRef = useRef(null);\r\n\tconst [errorMsg, setErrorMsg] = useState(null);\r\n\tconst [gUser, setGUser] = useState({\r\n\t\tid: null,\r\n\t\tname: 'Loading User...',\r\n\t\temail: null,\r\n\t\timage: UserImg\r\n\t});\r\n\tconst [passphrase, setPassphrase] = useState('');\r\n\tconst [passphraseStrength, setPassphraseStrength] = useState('None');\r\n\tconst [progress, setProgress] = useState({ message: 'Processing...', percent: 0, showHome: false });\r\n\r\n\tconst [currentAction, setCurrentAction] = useState({});\r\n\r\n\tconst changeAction = hash => {\r\n\t\tsetErrorMsg(null);\r\n\t\tlet selectedAction = Actions.find(a => a.hash === hash);\r\n\t\tif (!selectedAction) setCurrentAction(Actions.find(a => a.hash === '#choose-account'));\r\n\t\telse setCurrentAction(selectedAction);\r\n\t};\r\n\r\n\tconst loadGapiClient = () => {\r\n\t\thistory.listen(location => {\r\n\t\t\tchangeAction(location.hash);\r\n\t\t});\r\n\t\tchangeAction(history.location.hash);\r\n\t\tgapi.load('client:auth2', initClient);\r\n\t};\r\n\r\n\tconst initClient = () => {\r\n\t\tgapi.client\r\n\t\t\t.init({\r\n\t\t\t\tclientId: CLIENT_ID,\r\n\t\t\t\tdiscoveryDocs: DISCOVERY_DOCS,\r\n\t\t\t\tux_mode: 'redirect',\r\n\t\t\t\tscope: 'profile email https://www.googleapis.com/auth/drive',\r\n\t\t\t\tredirect_uri: `${GOOGLE_REDIRECT_URL}/backup`\r\n\t\t\t})\r\n\t\t\t.then(function () {\r\n\t\t\t\tgapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\r\n\t\t\t\tupdateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst updateSigninStatus = isSignedIn => {\r\n\t\tlet user = null;\r\n\t\tif (isSignedIn) {\r\n\t\t\tuser = gapi.auth2.getAuthInstance().currentUser.get();\r\n\t\t\tconst profile = user.getBasicProfile();\r\n\t\t\tsetGUser({\r\n\t\t\t\tid: profile.getId(),\r\n\t\t\t\tname: profile.getName(),\r\n\t\t\t\temail: profile.getEmail(),\r\n\t\t\t\timage: profile.getImageUrl()\r\n\t\t\t});\r\n\t\t} else user = handleUserSignIn();\r\n\t};\r\n\r\n\tconst handleUserSignIn = () => {\r\n\t\treturn gapi.auth2.getAuthInstance().signIn();\r\n\t};\r\n\r\n\tconst checkAndSetPassphrase = value => {\r\n\t\tsetErrorMsg(null);\r\n\t\tvar strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{10,})');\r\n\t\tvar mediumRegex = new RegExp(\r\n\t\t\t'^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})'\r\n\t\t);\r\n\r\n\t\tif (strongRegex.test(value)) {\r\n\t\t\tsetPassphraseStrength('Strong');\r\n\t\t} else if (mediumRegex.test(value)) {\r\n\t\t\tsetPassphraseStrength('Medium');\r\n\t\t} else {\r\n\t\t\tsetPassphraseStrength('Weak');\r\n\t\t}\r\n\t\tsetPassphrase(value);\r\n\t};\r\n\r\n\tconst prepareBackupData = async password => {\r\n\t\tlet backupData = { name: 'rumsan-wallet', type: 'ethersjs' };\r\n\t\tlet data = await DataService.list();\r\n\t\tdata.forEach(d => {\r\n\t\t\tbackupData[d.name] = d.data;\r\n\t\t});\r\n\t\tbackupData.wallet = await wallet.encrypt(password.toString());\r\n\t\tdelete backupData.backup_googleFile;\r\n\t\tdelete backupData.backup_wallet;\r\n\t\tbackupData.documents = await DataService.listDocuments();\r\n\t\tbackupData.documents.forEach(d => {\r\n\t\t\tdelete d.file;\r\n\t\t\tdelete d.encryptedFile;\r\n\t\t});\r\n\t\tbackupData.assets = await DataService.listAssets();\r\n\t\treturn backupData;\r\n\t};\r\n\r\n\tconst backupWallet = async () => {\r\n\t\tsetErrorMsg(null);\r\n\t\ttry {\r\n\t\t\thistory.push('#process');\r\n\r\n\t\t\tconst gFolder = new GFolder(gapi);\r\n\t\t\tconst gFile = new GFile(gapi);\r\n\r\n\t\t\tsetProgress({ ...progress, percent: 5, message: 'Preparing data to backup...' });\r\n\t\t\tlet backupData = await prepareBackupData(passphrase);\r\n\t\t\t//encrypt and store backup passphrase\r\n\t\t\tconst encrypted = await EthCrypto.encryptWithPublicKey(\r\n\t\t\t\tEthCrypto.publicKeyByPrivateKey(wallet.privateKey),\r\n\t\t\t\tpassphrase\r\n\t\t\t);\r\n\t\t\tconst encryptedPassphrase = EthCrypto.cipher.stringify(encrypted);\r\n\t\t\tawait DataService.save('backup_passphrase', encryptedPassphrase);\r\n\r\n\t\t\tsetProgress({ ...progress, percent: 30, message: 'Checking if previous backup exists...' });\r\n\t\t\tconst folder = await gFolder.ensureExists(BACKUP.GDRIVE_FOLDERNAME);\r\n\t\t\tsetProgress({ ...progress, percent: 50, message: 'Backing up encrypted wallet to Google Drive...' });\r\n\t\t\tconst file = await gFile.getByName(wallet.address, folder.id);\r\n\t\t\tsetProgress({ ...progress, percent: 70, message: 'Creating the encrypted backup file...' });\r\n\t\t\tlet newFile = await gFile.createFile({\r\n\t\t\t\tname: wallet.address,\r\n\t\t\t\tdata: JSON.stringify(backupData),\r\n\t\t\t\tparentId: folder.id\r\n\t\t\t});\r\n\t\t\tawait DataService.save('backup_googleFile', newFile.id);\r\n\t\t\tawait DataService.save('backup_wallet', backupData.wallet);\r\n\t\t\tsetProgress({ ...progress, percent: 80, message: 'Cleaning up and finalizing...' });\r\n\t\t\tif (file.exists) await gFile.deleteFile(file.firstFile.id);\r\n\t\t\tsetProgress({\r\n\t\t\t\t...progress,\r\n\t\t\t\tpercent: 100,\r\n\t\t\t\tshowHome: true,\r\n\t\t\t\tmessage: 'Wallet backed up successfully. Backup file named ' + wallet.address + ' has been created.'\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e.message);\r\n\t\t\tsetPassphrase('');\r\n\t\t\tpassphraseRef.current.focus();\r\n\t\t\tsetErrorMsg('Backup passphrase is incorrect. Please try again.');\r\n\t\t}\r\n\t};\r\n\r\n\tconst confirmBackup = async () => {\r\n\t\tvar passPhraseRegex = new RegExp('^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{10,})');\r\n\t\tif (!passPhraseRegex.test(passphrase)) {\r\n\t\t\tSwal.fire(\r\n\t\t\t\t'Passphrase incorrect',\r\n\t\t\t\t'Passphrase must be 10 characters and have at least one number.',\r\n\t\t\t\t'error'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst isConfirm = await Swal.fire({\r\n\t\t\ttitle: 'Important',\r\n\t\t\ticon: 'warning',\r\n\t\t\thtml: `You MUST write this passphrase and store it safely. It is used to encrypt your wallet. If you forget it there is no way to retrieve your wallet. It will be gone forever. <br /> Your passphrase is: ${passphrase}`,\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Yes, I have written it down',\r\n\t\t\tcancelButtonText: 'No, I want choose another'\r\n\t\t});\r\n\t\tif (isConfirm.value) {\r\n\t\t\tbackupWallet();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleBackButton = e => {\r\n\t\tif (history.action === 'POP') return history.push('/google/backup');\r\n\t\thistory.goBack();\r\n\t};\r\n\r\n\tuseEffect(loadGapiClient, []);\r\n\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<div className=\"appHeader bg-success text-light\">\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t{history.location.hash !== '' && (\r\n\t\t\t\t\t\t<button href=\"#\" className=\"headerButton btn\" onClick={e => handleBackButton()}>\r\n\t\t\t\t\t\t\t<IoChevronBackOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"pageTitle\">Backup to Google Drive</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<Link to=\"/\" className=\"headerButton\">\r\n\t\t\t\t\t\t<IoHomeOutline className=\"ion-icon\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: 80 }}>\r\n\t\t\t\t<div className=\"section\">\r\n\t\t\t\t\t<h2>Backup Wallet to your Google Drive</h2>\r\n\t\t\t\t\t<h4 dangerouslySetInnerHTML={{ __html: currentAction.label }}></h4>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentAction.hash === '#choose-account' && (\r\n\t\t\t\t\t<div className=\"text-center section full mt-2 mb-3\">\r\n\t\t\t\t\t\t<div className=\"text-center wide-block p-3\">\r\n\t\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t\t<img src={gUser.image} alt=\"avatar\" className=\"imaged w64 rounded\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"in mt-1\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"name\">{gUser.name}</h3>\r\n\t\t\t\t\t\t\t\t<h5 className=\"subtext\" style={{ margin: -3 }}>\r\n\t\t\t\t\t\t\t\t\t{gUser.email}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{gUser.id && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-secondary mt-2\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => handleUserSignIn()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSwitch account\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{gUser.id && (\r\n\t\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => history.push('#enter-passphrase')}>\r\n\t\t\t\t\t\t\t\t\tContinue with this Google account\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{currentAction.hash === '#enter-passphrase' && (\r\n\t\t\t\t\t<div className=\"section full mt-2 mb-3\">\r\n\t\t\t\t\t\t{/* {!selectedWallet.id && <Redirect to=\"/google/restore#choose-account\" />} */}\r\n\t\t\t\t\t\t<div className=\"wide-block p-2\">\r\n\t\t\t\t\t\t\t<div className=\"section full\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={passphrase}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => checkAndSetPassphrase(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Backup Passpharse\"\r\n\t\t\t\t\t\t\t\t\t\t\tref={passphraseRef}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\tPassphrase length: <b>{passphrase.length}</b>. Strength:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{passphraseStrength}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />A strong passphrase should be at least 10-charater long and contain at\r\n\t\t\t\t\t\t\t\t\t\t\tleast one lowercase alphabet, one uppercase alphabet, one number and a\r\n\t\t\t\t\t\t\t\t\t\t\tspecial character\r\n\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t{passphrase.length > 9 && (\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => confirmBackup()}>\r\n\t\t\t\t\t\t\t\t\tContinue to backup your wallet\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{currentAction.hash === '#process' && (\r\n\t\t\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t\t\t<div className=\"text-center\" style={{ marginTop: 100 }}>\r\n\t\t\t\t\t\t\t<h4 className=\"subtitle\">{progress.message}</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"progress\" style={{ margin: '50px 80px 3px' }}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"progress-bar\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: `${progress.percent}%` }}\r\n\t\t\t\t\t\t\t\t\trole=\"progressbar\"\r\n\t\t\t\t\t\t\t\t\taria-valuenow={25}\r\n\t\t\t\t\t\t\t\t\taria-valuemin={0}\r\n\t\t\t\t\t\t\t\t\taria-valuemax={100}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<small className=\"text-success message\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{progress.showHome && (\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" className=\"btn btn-primary btn-home mt-3\">\r\n\t\t\t\t\t\t\t\t\t\tGo to Home\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{/* <div className=\"spinner-border text-success mt-5 in-progress\" role=\"status\" /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{errorMsg && (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<span className=\"text-danger\">\r\n\t\t\t\t\t\t<b>Error</b>: {errorMsg}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useContext } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nimport BackupWallet from '../wallet/backup/index';\r\nimport Footer from '../layouts/Footer';\r\nimport Header from '../layouts/Header';\r\nimport ImportToken from '../tokens/importToken';\r\nimport SelectTokens from '../tokens/selectTokens';\r\nimport Main from './main';\r\nimport NetworkSettings from '../settings/network';\r\nimport Profile from '../settings';\r\nimport Settings from '../settings/misc';\r\nimport Transfer from '../transfer';\r\nimport Assets from '../tokens';\r\nimport TokenDetails from '../tokens/details';\r\nimport Vault from '../vault';\r\nimport GoogleBackup from '../misc/googleBackup';\r\n\r\nfunction App() {\r\n\tconst { initApp, wallet } = useContext(AppContext);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tinitApp();\r\n\t\t})();\r\n\t}, [initApp]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" component={Main} />\r\n\t\t\t\t<PrivateRoute exact path=\"/backup\" component={BackupWallet} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/networks\" component={NetworkSettings} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/import-token\" component={ImportToken} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/select-token\" component={SelectTokens} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/profile\" component={Profile} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/settings\" component={Settings} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/assets\" component={Assets} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/assets/:address\" component={TokenDetails} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/transfer/:contract\" component={Transfer} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/transfer/:contract/:address\" component={Transfer} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/vault\" component={Vault} wallet={wallet} />\r\n\t\t\t\t<PrivateRoute exact path=\"/google/backup\" component={GoogleBackup} wallet={wallet} />\r\n\t\t\t\t<Route path=\"*\" component={Main} />\r\n\t\t\t</Switch>\r\n\t\t\t<Footer />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nimport ModalWrapper from '../global/ModalWrapper';\r\nimport Wallet from '../../utils/blockchain/wallet';\r\nimport DataService from '../../services/db';\r\nimport Loading from '../global/Loading';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport { APP_CONSTANTS } from '../../constants';\r\nimport { IoWalletOutline, IoLogoGoogle, IoAddCircleOutline } from 'react-icons/io5';\r\n\r\nconst { PASSCODE_LENGTH } = APP_CONSTANTS;\r\n\r\nexport default function Setup() {\r\n\tconst { hasWallet, setWallet, network, wallet } = useContext(AppContext);\r\n\tlet history = useHistory();\r\n\r\n\tconst [showWalletActions, setShowWalletActions] = useState(false);\r\n\tconst [passcode, setPasscode] = useState('');\r\n\tconst [confirmPasscode, setConfirmPasscode] = useState('');\r\n\tconst [loadingModal, setLoadingModal] = useState(false);\r\n\tconst [loadingMessage, setLoadingMessage] = useState('Creating your new wallet. Please wait...');\r\n\tconst [currentAction, setCurrentAction] = useState(null);\r\n\tconst inputRef = useRef(null);\r\n\r\n\tconst resetPasscodes = () => {\r\n\t\tsetPasscode('');\r\n\t\tsetConfirmPasscode('');\r\n\t};\r\n\r\n\tconst setAction = action => {\r\n\t\tsetCurrentAction(action);\r\n\t};\r\n\r\n\tconst handlePasscodeChange = e => {\r\n\t\tsetPasscode(e.target.value);\r\n\t};\r\n\r\n\tconst startOver = () => {\r\n\t\tresetPasscodes();\r\n\t\tsetShowWalletActions(false);\r\n\t\tsetCurrentAction(null);\r\n\t};\r\n\r\n\tconst handleConfirmPasscodeChange = async e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetConfirmPasscode(value);\r\n\t\tif (value.length === PASSCODE_LENGTH) {\r\n\t\t\tif (value !== passcode) {\r\n\t\t\t\tresetPasscodes();\r\n\t\t\t\tSwal.fire('Error', 'Passcodes do not match. Please try another passcode.', 'error').then(actn => {\r\n\t\t\t\t\tinputRef.current.focus();\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (currentAction === 'restore_mnemonic') {\r\n\t\t\t\tawait DataService.save('temp_passcode', value);\r\n\t\t\t\thistory.push('/mnemonic/restore');\r\n\t\t\t}\r\n\t\t\tif (currentAction === 'restore_gdrive') {\r\n\t\t\t\tawait DataService.save('temp_passcode', value);\r\n\t\t\t\thistory.push('/google/restore');\r\n\t\t\t}\r\n\t\t\tif (currentAction === 'create_wallet') setShowWalletActions(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleWalletCreate = async () => {\r\n\t\ttry {\r\n\t\t\tsetCurrentAction(null);\r\n\t\t\tsetLoadingModal(true);\r\n\t\t\tconst res = await Wallet.create(passcode);\r\n\t\t\tif (res) {\r\n\t\t\t\tconst { wallet, encryptedWallet } = res;\r\n\t\t\t\tawait DataService.save('temp_encryptedWallet', encryptedWallet);\r\n\t\t\t\tsetWallet(wallet);\r\n\t\t\t\thistory.push('/create');\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t} finally {\r\n\t\t\tsetLoadingModal(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <div id=\"loader\">\r\n\t\t\t\t<img src=\"assets/img/logo-icon.png\" alt=\"icon\" className=\"loading-icon\" />\r\n\t\t\t</div> */}\r\n\r\n\t\t\t<div className=\"appHeader bg-primary text-light\">\r\n\t\t\t\t<div className=\"left\"></div>\r\n\t\t\t\t<div className=\"pageTitle\">Rumsan Wallet</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"section wallet-card-section pt-1\">\r\n\t\t\t\t\t<div className=\"card\" style={{ height: 380, paddingTop: 50, paddingLeft: 5, paddingRight: 5 }}>\r\n\t\t\t\t\t\t<div className=\"balance\">\r\n\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t<div style={{ paddingLeft: 20, paddingRight: 20 }}>\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"value\">Let's setup your wallet</h2>\r\n\t\t\t\t\t\t\t\t\t<span className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t{/* Rumsan Wallet is a blockchain based wallet to securely store your KYC documents,\r\n\t\t\t\t\t\t\t\t\tdigital assets and sign smart contracts. You can use this as your digital vault to\r\n\t\t\t\t\t\t\t\t\tstore a copy of your important documents. All the data will securely stored in your\r\n\t\t\t\t\t\t\t\t\tphone. Data will never your phone withour your consent. You can either create a new\r\n\t\t\t\t\t\t\t\t\twallet or restore existing wallet. <br /> */}\r\n\t\t\t\t\t\t\t\t\t\tPlease choose one of the options to setup your wallet.\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setAction('create_wallet')}\r\n\t\t\t\t\t\t\t\t\t\tid=\"btnSetupWallet\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-block btn-success\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<IoWalletOutline className=\"ion-icon\" aria-label=\"Create New Wallet\" />\r\n\t\t\t\t\t\t\t\t\t\tCreate new wallet\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2\"></div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setAction('restore_mnemonic')}\r\n\t\t\t\t\t\t\t\t\t\tid=\"btnSetupWallet\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-block\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#1E74FD', borderColor: '#1E74FD', color: '#ffffff' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<IoWalletOutline className=\"ion-icon\" aria-label=\"Restore Existing Wallet\" />\r\n\t\t\t\t\t\t\t\t\t\tRestore from seed phrase (mnemonic)\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2\"></div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setAction('restore_gdrive')}\r\n\t\t\t\t\t\t\t\t\t\tid=\"btnSetupWallet\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-block btn-danger mb-2\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<IoLogoGoogle className=\"ion-icon\" aria-label=\"Restore Using Google\" />\r\n\t\t\t\t\t\t\t\t\t\tRestore wallet Google Drive\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Loading message={loadingMessage} showModal={loadingModal} />\r\n\t\t\t<ModalWrapper\r\n\t\t\t\ttitle=\"First, let's setup your passcode\"\r\n\t\t\t\tshowModal={currentAction !== null}\r\n\t\t\t\tonShow={() => inputRef.current.focus()}\r\n\t\t\t\tonHide={() => setShowWalletActions(false)}\r\n\t\t\t>\r\n\t\t\t\t{showWalletActions && currentAction === 'create_wallet' ? (\r\n\t\t\t\t\t<div className=\"p-2\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={handleWalletCreate}\r\n\t\t\t\t\t\t\tid=\"btnNewWallet\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-block btn-primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<IoWalletOutline className=\"ion-icon\" aria-label=\"Create New Wallet\" />\r\n\t\t\t\t\t\t\tCreate a new Rumsan Wallet\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"row mb-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p>Choose a {PASSCODE_LENGTH}-digit passcode.</p>\r\n\t\t\t\t\t\t\t{passcode.length < PASSCODE_LENGTH && (\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={handlePasscodeChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\t\t\t\t\tinputMode=\"numeric\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control verify-input passcode pwd\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"------\"\r\n\t\t\t\t\t\t\t\t\tmaxLength={PASSCODE_LENGTH}\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"false\"\r\n\t\t\t\t\t\t\t\t\tvalue={passcode}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{passcode && passcode.length === PASSCODE_LENGTH && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleConfirmPasscodeChange}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\t\t\t\t\t\tinputMode=\"numeric\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control verify-input passcode pwd\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"------\"\r\n\t\t\t\t\t\t\t\t\t\tmaxLength={PASSCODE_LENGTH}\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"false\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={confirmPasscode}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<small className=\"message\">Please confirm your passcode</small>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t<Link to=\"#\" onClick={() => startOver()}>\r\n\t\t\t\t\t\t<small>Start Over</small>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</ModalWrapper>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport Loading from '../global/Loading';\r\nimport Wallet from '../../utils/blockchain/wallet';\r\nimport DataService from '../../services/db';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { APP_CONSTANTS } from '../../constants';\r\nconst { PASSCODE_LENGTH } = APP_CONSTANTS;\r\n\r\nexport default function Unlock() {\r\n\tconst { setWallet } = useContext(AppContext);\r\n\tlet history = useHistory();\r\n\r\n\tconst [pincode, setPincode] = useState('');\r\n\tconst [loadingModal, setLoadingModal] = useState(false);\r\n\tconst [unlockError, setUnlockError] = useState(false);\r\n\r\n\tconst handleChangePincode = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetPincode(value);\r\n\t\tif (value.length === PASSCODE_LENGTH) {\r\n\t\t\tsetLoadingModal(true);\r\n\t\t\tfetchWalletDataAndUnlock(value);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchWalletDataAndUnlock = async passcode => {\r\n\t\ttry {\r\n\t\t\tlet encryptedWallet = await DataService.getWallet();\r\n\t\t\tconst wallet = await Wallet.loadFromJson(passcode, encryptedWallet);\r\n\t\t\tsetWallet(wallet);\r\n\t\t\tsetLoadingModal(false);\r\n\t\t\thistory.push('/');\r\n\t\t} catch (e) {\r\n\t\t\tsetPincode('');\r\n\t\t\tsetUnlockError(true);\r\n\t\t\tsetLoadingModal(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Loading message=\"Unlocking your wallet. Please wait...\" showModal={loadingModal} />\r\n\t\t\t<div className=\"login-form\" id=\"cmpUnlock\" style={{ marginTop: 80 }}>\r\n\t\t\t\t<div className=\"section\">\r\n\t\t\t\t\t<h1>Wallet Locked</h1>\r\n\t\t\t\t\t<h4>Please enter your 6-digit code to unlock</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"section mt-2 mb-5\">\r\n\t\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tonChange={handleChangePincode}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control verify-input pwd\"\r\n\t\t\t\t\t\t\t\tid=\"unlockCode\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"------\"\r\n\t\t\t\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\t\t\t\tvalue={pincode}\r\n\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{unlockError && (\r\n\t\t\t\t\t\t\t\t\t<small className=\"text-danger message\">\r\n\t\t\t\t\t\t\t\t\t\tPasscode did not match. Please enter correct passcode\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useHistory, Redirect } from 'react-router-dom';\r\nimport { gapi } from 'gapi-script';\r\nimport { IoChevronBackOutline, IoHomeOutline, IoCloseCircle } from 'react-icons/io5';\r\n\r\nimport Wallet from '../../utils/blockchain/wallet';\r\nimport UserImg from '../../assets/images/user.svg';\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport DataService from '../../services/db';\r\nimport { BACKUP } from '../../constants';\r\nimport { GFile, GFolder } from '../../utils/google';\r\nimport Loading from '../global/Loading';\r\nimport Swal from 'sweetalert2';\r\n\r\n//const { PASSCODE_LENGTH } = APP_CONSTANTS;\r\n\r\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];\r\nconst GOOGLE_REDIRECT_URL = process.env.REACT_APP_GOOGLE_REDIRECT_URL;\r\nconst CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport default function GoogleRestore() {\r\n\tconst history = useHistory();\r\n\tlet currentWallet = null;\r\n\r\n\tconst Actions = [\r\n\t\t{\r\n\t\t\thash: '#choose-account',\r\n\t\t\tlabel: 'Please choose Google account. Please click the switch account button to change account.'\r\n\t\t},\r\n\t\t{\r\n\t\t\thash: '#choose-wallet',\r\n\t\t\tlabel: 'Please select the wallet you wish to restore.'\r\n\t\t},\r\n\t\t{\r\n\t\t\thash: '#enter-passphrase',\r\n\t\t\tlabel: 'Please enter backup passphrase.'\r\n\t\t}\r\n\t];\r\n\r\n\tconst { setWallet } = useContext(AppContext);\r\n\tconst [loading, setLoading] = useState(null);\r\n\tconst [errorMsg, setErrorMsg] = useState(null);\r\n\tconst [gUser, setGUser] = useState({\r\n\t\tid: null,\r\n\t\tname: 'Loading Users...',\r\n\t\temail: null,\r\n\t\timage: UserImg\r\n\t});\r\n\tconst [passphrase, setPassphrase] = useState('');\r\n\tconst [walletList, setWalletList] = useState([]);\r\n\tconst [selectedWallet, setSelectedWallet] = useState({});\r\n\r\n\tconst [currentAction, setCurrentAction] = useState({});\r\n\r\n\tconst changeAction = hash => {\r\n\t\tsetErrorMsg(null);\r\n\t\tlet selectedAction = Actions.find(a => a.hash === hash);\r\n\t\tif (!selectedAction) setCurrentAction(Actions.find(a => a.hash === '#choose-account'));\r\n\t\telse setCurrentAction(selectedAction);\r\n\t};\r\n\r\n\tconst loadGapiClient = () => {\r\n\t\thistory.listen(location => {\r\n\t\t\tchangeAction(location.hash);\r\n\t\t});\r\n\t\tchangeAction(history.location.hash);\r\n\t\tgapi.load('client:auth2', initClient);\r\n\t};\r\n\r\n\tconst initClient = () => {\r\n\t\tgapi.client\r\n\t\t\t.init({\r\n\t\t\t\tclientId: CLIENT_ID,\r\n\t\t\t\tdiscoveryDocs: DISCOVERY_DOCS,\r\n\t\t\t\tux_mode: 'redirect',\r\n\t\t\t\tscope: 'profile email https://www.googleapis.com/auth/drive',\r\n\t\t\t\tredirect_uri: `${GOOGLE_REDIRECT_URL}/restore`\r\n\t\t\t})\r\n\t\t\t.then(function () {\r\n\t\t\t\tgapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\r\n\t\t\t\tupdateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tSwal.fire(\r\n\t\t\t\t\t'Warning',\r\n\t\t\t\t\t'You have blocked third-party cookies for this site or app. You must allow them for Google login to work.',\r\n\t\t\t\t\t'warning'\r\n\t\t\t\t).then(e => {\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst updateSigninStatus = isSignedIn => {\r\n\t\tlet user = null;\r\n\t\tif (isSignedIn) {\r\n\t\t\tuser = gapi.auth2.getAuthInstance().currentUser.get();\r\n\t\t\tconst profile = user.getBasicProfile();\r\n\t\t\tsetGUser({\r\n\t\t\t\tid: profile.getId(),\r\n\t\t\t\tname: profile.getName(),\r\n\t\t\t\temail: profile.getEmail(),\r\n\t\t\t\timage: profile.getImageUrl()\r\n\t\t\t});\r\n\t\t} else user = handleUserSignIn();\r\n\t};\r\n\r\n\tconst handleUserSignIn = () => {\r\n\t\treturn gapi.auth2.getAuthInstance().signIn();\r\n\t};\r\n\r\n\tconst fetchWalletList = async () => {\r\n\t\tlet existingWallet = await DataService.getWallet();\r\n\t\tif (existingWallet) {\r\n\t\t\tSwal.fire(\r\n\t\t\t\t'Warning',\r\n\t\t\t\t'You have already setup a wallet. Please backup and remove it before restoring another wallet from Google Drive.',\r\n\t\t\t\t'warning'\r\n\t\t\t).then(d => {\r\n\t\t\t\thistory.push('/');\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.push('#choose-wallet');\r\n\t\tsetLoading('Querying Google Drive for wallet backups. Please wait...');\r\n\t\tconst gFolder = new GFolder(gapi);\r\n\t\tconst gFile = new GFile(gapi);\r\n\t\tconst folder = await gFolder.ensureExists(BACKUP.GDRIVE_FOLDERNAME);\r\n\t\tlet files = await gFile.listFiles(folder.id);\r\n\t\tsetWalletList(files);\r\n\t\tsetLoading(null);\r\n\t};\r\n\r\n\tconst fetchSelectedWalletData = async () => {\r\n\t\tsetErrorMsg(null);\r\n\t\tsetLoading('Fetching wallet data. Please wait...');\r\n\t\ttry {\r\n\t\t\tconst gFile = new GFile(gapi);\r\n\t\t\tlet walletData = await gFile.downloadFile(selectedWallet.id);\r\n\t\t\tcurrentWallet = JSON.parse(walletData);\r\n\t\t\tif (!currentWallet.name) throw Error('Not a valid wallet. Please select another wallet.');\r\n\t\t\tsetSelectedWallet(Object.assign(selectedWallet, { data: currentWallet }));\r\n\t\t\thistory.push('#enter-passphrase');\r\n\t\t} catch (e) {\r\n\t\t\tsetErrorMsg(\r\n\t\t\t\te.message === 'Not a valid wallet. Please select another wallet.'\r\n\t\t\t\t\t? e.message\r\n\t\t\t\t\t: 'Issue fetching wallet. Are you sure you selected a right wallet? Please check and try again.'\r\n\t\t\t);\r\n\t\t\tsetSelectedWallet({});\r\n\t\t}\r\n\t\tsetLoading(null);\r\n\t};\r\n\r\n\tconst restoreWallet = async () => {\r\n\t\tsetErrorMsg(null);\r\n\t\tsetLoading('Unlocking and restoring wallet.');\r\n\t\ttry {\r\n\t\t\tconst passcode = await DataService.get('temp_passcode');\r\n\t\t\tconst wallet = await Wallet.loadFromJson(passphrase, selectedWallet.data.wallet);\r\n\t\t\tconst passcodeWallet = await wallet.encrypt(passcode);\r\n\t\t\tawait DataService.clearAll();\r\n\t\t\tawait DataService.saveWallet(passcodeWallet);\r\n\t\t\tawait DataService.saveAddress(wallet.address);\r\n\t\t\tawait DataService.save('backup_wallet', selectedWallet.data.wallet);\r\n\t\t\tif (selectedWallet.data.documents) await DataService.saveDocuments(selectedWallet.data.documents);\r\n\t\t\tif (selectedWallet.data.assets) await DataService.addMultiAssets(selectedWallet.data.assets);\r\n\t\t\tsetWallet(wallet);\r\n\t\t\tawait DataService.remove('temp_passcode');\r\n\t\t\thistory.push('/');\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetPassphrase('');\r\n\t\t\tsetErrorMsg('Backup passphrase is incorrect. Please try again.');\r\n\t\t}\r\n\t\tsetLoading(null);\r\n\t};\r\n\r\n\tconst showInfo = msg => {\r\n\t\tif (loading) return <div className=\"text-center p3\">Loading...</div>;\r\n\t\treturn (\r\n\t\t\t<div className=\"text-center p-3\">\r\n\t\t\t\t{/* {isLoading && (\r\n\t\t\t\t\t<span className=\"spinner-border spinner-border-sm mr-05\" role=\"status\" aria-hidden=\"true\"></span>\r\n\t\t\t\t)} */}\r\n\t\t\t\t{msg}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleBackButton = e => {\r\n\t\tif (history.action === 'POP') return history.push('/google/restore');\r\n\t\thistory.goBack();\r\n\t};\r\n\r\n\tuseEffect(loadGapiClient, []);\r\n\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<Loading message={loading} showModal={loading} />\r\n\t\t\t<div className=\"appHeader bg-success text-light\">\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t{history.location.hash !== '' && (\r\n\t\t\t\t\t\t<button href=\"#\" className=\"headerButton btn\" onClick={e => handleBackButton()}>\r\n\t\t\t\t\t\t\t<IoChevronBackOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"pageTitle\">Restore wallet from Google Drive</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<Link to=\"/\" className=\"headerButton\">\r\n\t\t\t\t\t\t<IoHomeOutline className=\"ion-icon\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: 80 }}>\r\n\t\t\t\t<div className=\"section\">\r\n\t\t\t\t\t<h2>Restore Wallet from Google Drive</h2>\r\n\t\t\t\t\t<h4>{currentAction.label}</h4>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentAction.hash === '#choose-account' && (\r\n\t\t\t\t\t<div className=\"text-center section full mt-2 mb-3\">\r\n\t\t\t\t\t\t<div className=\"text-center wide-block p-3\">\r\n\t\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t\t<img src={gUser.image} alt=\"avatar\" className=\"imaged w64 rounded\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"in mt-1\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"name\">{gUser.name}</h3>\r\n\t\t\t\t\t\t\t\t<h5 className=\"subtext\" style={{ margin: -3 }}>\r\n\t\t\t\t\t\t\t\t\t{gUser.email}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{gUser.id && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-secondary mt-2\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => handleUserSignIn()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSwitch account\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{gUser.id && (\r\n\t\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => fetchWalletList()}\r\n\t\t\t\t\t\t\t\t\tdisabled={loading ? 'true' : ''}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tContinue wallet restore for selected user\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{currentAction.hash === '#choose-wallet' && (\r\n\t\t\t\t\t<div className=\"section full mt-2 mb-3\">\r\n\t\t\t\t\t\t<div className=\"wide-block p-0\">\r\n\t\t\t\t\t\t\t<div className=\"input-list\">\r\n\t\t\t\t\t\t\t\t{walletList.length\r\n\t\t\t\t\t\t\t\t\t? walletList.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={d.id} className=\"custom-control custom-radio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={d.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"walletList\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"custom-control-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={d.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={selectedWallet.id === d.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetErrorMsg(null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedWallet(d);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor={d.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{d.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: showInfo('There are no wallet backed up in your Google Drive.')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t{selectedWallet.id && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => fetchSelectedWalletData()}\r\n\t\t\t\t\t\t\t\t\tdisabled={loading ? 'true' : ''}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tContinue with selected wallet\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{currentAction.hash === '#enter-passphrase' && (\r\n\t\t\t\t\t<div className=\"section full mt-2 mb-3\">\r\n\t\t\t\t\t\t{!selectedWallet.id && <Redirect to=\"/google/restore#choose-account\" />}\r\n\t\t\t\t\t\t<div className=\"wide-block p-2\">\r\n\t\t\t\t\t\t\t<div className=\"section full\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={passphrase}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => setPassphrase(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control pwd\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Backup Passpharse\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"clear-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t<IoCloseCircle className=\"ion-icon\" />\r\n\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t{passphrase.length > 4 && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t\t\tonClick={e => restoreWallet()}\r\n\t\t\t\t\t\t\t\t\tdisabled={loading ? 'true' : ''}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tUnlock and restore wallet\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{errorMsg && (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<span className=\"text-danger\">\r\n\t\t\t\t\t\t<b>Error</b>: {errorMsg}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport DataService from '../../services/db';\r\n\r\nexport default function Create() {\r\n\tlet history = useHistory();\r\n\tconst { wallet } = useContext(AppContext);\r\n\r\n\tconst handleCancelClick = e => {\r\n\t\te.preventDefault();\r\n\t\twindow.location.replace('/');\r\n\t};\r\n\r\n\tconst confirmBackup = async () => {\r\n\t\tconst isConfirm = await Swal.fire({\r\n\t\t\ttitle: 'Success',\r\n\t\t\ticon: 'success',\r\n\t\t\thtml: `Would you like to backup your wallet in Google Drive`,\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Yes, Backup',\r\n\t\t\tcancelButtonText: 'No, Take to homepage'\r\n\t\t});\r\n\t\tif (isConfirm.value) {\r\n\t\t\thistory.push('/google/backup');\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSaveClick = async () => {\r\n\t\tlet encryptedWallet = await DataService.get('temp_encryptedWallet');\r\n\t\tawait DataService.saveWallet(encryptedWallet);\r\n\t\tDataService.remove('temp_encryptedWallet');\r\n\t\tDataService.remove('temp_passcode');\r\n\t\tDataService.saveAddress(wallet.address);\r\n\t\treturn confirmBackup();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div id=\"appCapsule\">\r\n\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t<div className=\"section-title\" style={{ fontSize: 'larger' }}>\r\n\t\t\t\t\tPlease save this 12 word mnemonic safely.\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t{wallet != null ? (\r\n\t\t\t\t\t\t\twallet.mnemonic.phrase.split(' ').map((word, ind) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={ind} className=\"col-sm-3\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"label\">&nbsp;word: {ind + 1}</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${word}${ind + 1}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={word}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-sm-3\">No mnemonics found</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t{wallet != null && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={handleSaveClick}\r\n\t\t\t\t\t\t\tstyle={{ margin: 5 }}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success btn-md\"\r\n\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tI have written it down\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<button onClick={handleCancelClick} className=\"btn btn-danger btn-md\" id=\"btnCancel\">\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport Dixie from 'dexie';\r\nimport { IoArchiveOutline, IoTrashOutline } from 'react-icons/io5';\r\n\r\nexport default function Reset() {\r\n\tconst resetApp = async () => {\r\n\t\tconst { value } = await Swal.fire({\r\n\t\t\ttitle: 'Please confirm!!!',\r\n\t\t\tinput: 'text',\r\n\t\t\tinputLabel: 'This is irreversible. Please type \"RUMSAN\" without quotes to proceed',\r\n\t\t\tinputPlaceholder: ''\r\n\t\t});\r\n\r\n\t\tif (value === 'RUMSAN') {\r\n\t\t\tawait Dixie.delete('db_wallet');\r\n\t\t\twindow.location.href = '/';\r\n\t\t} else {\r\n\t\t\tSwal.fire('Wrong confirmation', 'No action was taken');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"text-center section full mt-2 mb-3\">\r\n\t\t\t\t\t<h1 className=\"mt-5\">Rumsan Wallet Reset</h1>\r\n\t\t\t\t\t<div>This will delete all your data. Please make sure you have backed up your wallet properly.</div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => (window.location.href = '/')}\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-md btn-success mt-5 mr-3\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IoArchiveOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\tBackup Wallet\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={() => resetApp()} type=\"button\" className=\"btn btn-md btn-danger mt-5\">\r\n\t\t\t\t\t\t<IoTrashOutline className=\"ion-icon\" />\r\n\t\t\t\t\t\tReset Rumsan Wallet\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useState, createRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { AppContext } from '../../contexts/AppContext';\r\nimport DataService from '../../services/db';\r\nimport Wallet from '../../utils/blockchain/wallet';\r\nimport Loading from '../global/Loading';\r\n\r\nexport default function RestoreMnemonic() {\r\n\tconst wordCount = 12;\r\n\tlet history = useHistory();\r\n\tconst { setWallet } = useContext(AppContext);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst wordRefs = React.useRef([]);\r\n\tif (wordRefs.current.length !== wordCount) {\r\n\t\twordRefs.current = Array(wordCount)\r\n\t\t\t.fill()\r\n\t\t\t.map((_, i) => wordRefs.current[i] || createRef());\r\n\t}\r\n\r\n\tconst handleCancelClick = e => {\r\n\t\te.preventDefault();\r\n\t\twindow.location.replace('/');\r\n\t};\r\n\r\n\tconst confirmBackup = async () => {\r\n\t\tconst isConfirm = await Swal.fire({\r\n\t\t\ttitle: 'Success',\r\n\t\t\ticon: 'success',\r\n\t\t\thtml: `Would you like to backup your wallet in Google Drive`,\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Yes, Backup',\r\n\t\t\tcancelButtonText: 'No, Take to homepage'\r\n\t\t});\r\n\t\tif (isConfirm.value) {\r\n\t\t\thistory.push('/google/backup');\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlePaste = e => {\r\n\t\te.preventDefault();\r\n\t\tconst clip = e.clipboardData.getData('text').trim();\r\n\t\tlet words = clip.split(' ');\r\n\t\twords.map((word, i) => {\r\n\t\t\tif (wordRefs.current[i]) wordRefs.current[i].current.value = word;\r\n\t\t\treturn null;\r\n\t\t});\r\n\t};\r\n\r\n\tlet rows = [];\r\n\tfor (let i = 0; i < wordCount; i++) {\r\n\t\tlet column = (\r\n\t\t\t<div key={i + 1} className=\"col-sm-3\">\r\n\t\t\t\t<div className=\"form-group boxed\">\r\n\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t<label className=\"label\">Word: {i + 1}</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tref={wordRefs.current[i]}\r\n\t\t\t\t\t\t\t//value={wordRefs.current[i].current ? wordRefs.current[i].current.value : ''}\r\n\t\t\t\t\t\t\tonChange={e => {}}\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\tname={`word${i + 1}`}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\trows.push(column);\r\n\t}\r\n\r\n\tconst restoreWallet = async mnemonic => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true);\r\n\t\t\tlet passcode = await DataService.get('temp_passcode');\r\n\t\t\tconst res = await Wallet.create(passcode, mnemonic);\r\n\t\t\tconst { wallet, encryptedWallet } = res;\r\n\t\t\tsetWallet(wallet);\r\n\t\t\tDataService.saveAddress(wallet.address);\r\n\t\t\tawait DataService.saveWallet(encryptedWallet);\r\n\t\t\tDataService.remove('temp_passcode');\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn confirmBackup();\r\n\t\t} catch (err) {\r\n\t\t\tSwal.fire('ERROR', err.message, 'error');\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleFormSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tlet words = [];\r\n\t\tconst formData = new FormData(e.target);\r\n\t\tfor (let i = 1; i < 13; i++) {\r\n\t\t\tlet word = formData.get(`word${i}`);\r\n\t\t\twords.push(word);\r\n\t\t}\r\n\t\tconst mnemonic = words.join(' ');\r\n\t\tif (!Wallet.isValidMnemonic(mnemonic)) {\r\n\t\t\tSwal.fire('ERROR', 'Invalid mnemonic. Please check and try again.', 'error');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn restoreWallet(mnemonic);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Loading message=\"Restoring your wallet. Please wait...\" showModal={loading} />\r\n\t\t\t<div id=\"appCapsule\">\r\n\t\t\t\t<div className=\"section full mt-2\">\r\n\t\t\t\t\t<div className=\"section-title\" style={{ fontSize: 'larger' }}>\r\n\t\t\t\t\t\tPlease enter 12 word mnemonics\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form onSubmit={handleFormSubmit}>\r\n\t\t\t\t\t\t<div className=\"content-header mb-05\">\r\n\t\t\t\t\t\t\t<p>One word in each box</p>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{rows &&\r\n\t\t\t\t\t\t\t\t\trows.map(col => {\r\n\t\t\t\t\t\t\t\t\t\treturn col;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 5 }}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-success btn-md\"\r\n\t\t\t\t\t\t\t\tid=\"btnMnemonic\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button onClick={handleCancelClick} className=\"btn btn-danger btn-md\" id=\"btnCancel\">\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from '../modules/home';\r\nimport Setup from '../modules/setup';\r\nimport UnlockWallet from '../modules/wallet/unlock';\r\nimport GoogleRestore from '../modules/misc/googleRestore';\r\nimport CreateWallet from '../modules/wallet/create';\r\nimport ResetWallet from '../modules/misc/reset';\r\nimport RestoreFromMnemonic from '../modules/wallet/restoreMnemonic';\r\n\r\nimport { AppContextProvider } from '../contexts/AppContext';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppContextProvider>\r\n\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/setup\" component={Setup} />\r\n\t\t\t\t\t\t<Route exact path=\"/create\" component={CreateWallet} />\r\n\t\t\t\t\t\t<Route exact path=\"/unlock\" component={UnlockWallet} />\r\n\t\t\t\t\t\t<Route exact path=\"/google/restore\" component={GoogleRestore} />\r\n\t\t\t\t\t\t<Route exact path=\"/mnemonic/restore\" component={RestoreFromMnemonic} />\r\n\t\t\t\t\t\t<Route exact path=\"/reset\" component={ResetWallet} />\r\n\t\t\t\t\t\t<Route path=\"/\" component={Home} />\r\n\t\t\t\t\t\t<Route path=\"*\" component={Home} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</BrowserRouter>\r\n\t\t\t</AppContextProvider>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://cra.link/PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then(registration => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './modules/App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n\t// <React.StrictMode>\r\n\t// \t<App />\r\n\t// </React.StrictMode>,\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}